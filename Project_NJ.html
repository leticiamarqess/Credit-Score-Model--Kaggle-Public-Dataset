<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>project_nj</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Project_NJ_files/libs/clipboard/clipboard.min.js"></script>
<script src="Project_NJ_files/libs/quarto-html/quarto.js"></script>
<script src="Project_NJ_files/libs/quarto-html/popper.min.js"></script>
<script src="Project_NJ_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Project_NJ_files/libs/quarto-html/anchor.min.js"></script>
<link href="Project_NJ_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Project_NJ_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Project_NJ_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Project_NJ_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Project_NJ_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="importando-bibliotecas" class="level1">
<h1>Importando bibliotecas</h1>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> Image</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.core.display <span class="im">import</span> HTML</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> zscore</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> RobustScaler, MinMaxScaler, LabelEncoder</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> GridSearchCV, KFold</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestRegressor</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestClassifier</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> cross_val_score</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LogisticRegression</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.tree <span class="im">import</span> ExtraTreeClassifier</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> accuracy_score, classification_report</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> lightgbm <span class="im">as</span> lgb</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> boruta <span class="im">import</span> BorutaPy</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> xgboost <span class="im">as</span> xgb</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>pylab inline</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>plt.style.use( <span class="st">'bmh'</span> )</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>plt.rcParams[<span class="st">'figure.figsize'</span>] <span class="op">=</span> [<span class="dv">25</span>, <span class="dv">12</span>]</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>plt.rcParams[<span class="st">'font.size'</span>] <span class="op">=</span> <span class="dv">24</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>display( HTML( <span class="st">'&lt;style&gt;.container { width:100% !important; }&lt;/style&gt;'</span>) )</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>pd.options.display.max_columns <span class="op">=</span> <span class="va">None</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>pd.options.display.max_rows <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>pd.set_option( <span class="st">'display.expand_frame_repr'</span>, <span class="va">False</span> )</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.float_format'</span>, <span class="kw">lambda</span> x: <span class="st">'</span><span class="sc">%.3f</span><span class="st">'</span> <span class="op">%</span> x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>%pylab is deprecated, use %matplotlib inline and import the required libraries.
Populating the interactive namespace from numpy and matplotlib</code></pre>
</div>
<div class="cell-output cell-output-display">
<style>.container { width:100% !important; }</style>
</div>
</div>
</section>
<section id="variáveis" class="level1">
<h1>Variáveis</h1>
<p>‘ID’ - Chave única de identificação da entrada</p>
<p>‘Customer_ID’ - Chave única de identificação da pessoa</p>
<p>‘Month’ - Mês de referência</p>
<p>‘Name’ - Nome do cliente</p>
<p>‘Age’ - Idade</p>
<p>‘SSN’ - Documento de identificação</p>
<p>‘Occupation’ - Profissão</p>
<p>‘Annual_Income’ - Renda Anual</p>
<p>‘Monthly_Inhand_Salary’ - Salario Base Mensal</p>
<p>‘Num_Bank_Accounts’ - Número de Contas Bancárias</p>
<p>‘Num_Credit_Card’ - Número de Cartões de Crédito</p>
<p>‘Interest_Rate’ - Taxa de Juros</p>
<p>‘Num_of_Loan’ - Número de Emprestimos</p>
<p>‘Type_of_Loan’ - Tipo de Emprestimos</p>
<p>‘Delay_from_due_date’ - Dias médios de atraso da data de vencimento</p>
<p>‘Num_of_Delayed_Payment’ - Número de atrasos</p>
<p>‘Changed_Credit_Limit’ - Percentual de mudança no limite do cartão de crédito</p>
<p>‘Num_Credit_Inquiries’ - Números de consultas em Bureau</p>
<p>‘Credit_Mix’ - Classificação do nivel de diversidade de credito</p>
<p>‘Outstanding_Debt’ - Divída em aberto</p>
<p>‘Credit_Utilization_Ratio’ - Total utilizado em relação ao limite</p>
<p>‘Credit_History_Age’ - Tempo de crédito no mercado</p>
<p>‘Payment_of_Min_Amount’ - Representa se foi feito pagamento mínimo</p>
<p>‘Total_EMI_per_month’ - Parcela fixa mensal (principal + juros)</p>
<p>‘Amount_invested_monthly’ - Total investido no mês</p>
<p>‘Payment_Behaviour’ - Comportamento de Pagamento do cliente</p>
<p>‘Monthly_Balance’ - Saldo Mensal</p>
<p>‘Credit_Score’ - Score de Crédito</p>
</section>
<section id="funções-auxiliares" class="level1">
<h1>Funções Auxiliares</h1>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Função para desaninhar a lista  </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> desaninhar(lista_aninhada):</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    resultado <span class="op">=</span> []</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> elemento <span class="kw">in</span> lista_aninhada:</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">isinstance</span>(elemento, <span class="bu">list</span>):</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>            resultado.extend(desaninhar(elemento))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>            resultado.append(elemento)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> resultado</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Função para calcular a moda de itens em uma lista removendo os vazios</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calcular_moda(lista):</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    nova_lista <span class="op">=</span> [item <span class="cf">for</span> item <span class="kw">in</span> lista <span class="cf">if</span> item <span class="op">!=</span> <span class="st">''</span>]</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    contador <span class="op">=</span> Counter(nova_lista)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> contador.most_common(<span class="dv">1</span>)[<span class="dv">0</span>][<span class="dv">0</span>]</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co">## Metodo kramer v para correlação de variaveis categoricas</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cramer_v (x,y):</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    cm <span class="op">=</span> pd.crosstab(x,y).values</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> cm.<span class="bu">sum</span>()</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    r, k <span class="op">=</span> cm.shape</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    chi2 <span class="op">=</span> stats.chi2_contingency(cm)[<span class="dv">0</span>]</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    chi2corr <span class="op">=</span> <span class="bu">max</span>(<span class="dv">0</span> , chi2 <span class="op">-</span> ((k<span class="op">-</span><span class="dv">1</span>)<span class="op">*</span>(r<span class="op">-</span><span class="dv">1</span>)<span class="op">/</span>(n<span class="op">-</span><span class="dv">1</span>))) <span class="co"># Valores com vieses corrigidos</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    kcorr <span class="op">=</span>  k <span class="op">-</span> ((k<span class="op">-</span><span class="dv">1</span>)<span class="op">**</span><span class="dv">2</span><span class="op">/</span>(n<span class="op">-</span><span class="dv">1</span>))  <span class="co"># Valores com vieses corrigidos</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    rcorr <span class="op">=</span>  r <span class="op">-</span> ((r<span class="op">-</span><span class="dv">1</span>)<span class="op">**</span><span class="dv">2</span><span class="op">/</span>(n<span class="op">-</span><span class="dv">1</span>))  <span class="co"># Valores com vieses corrigidos</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.sqrt((chi2corr<span class="op">/</span>n)<span class="op">/</span>(<span class="bu">min</span>(kcorr<span class="op">-</span><span class="dv">1</span>,rcorr<span class="op">-</span><span class="dv">1</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="explorando-os-dados" class="level1">
<h1>Explorando os dados</h1>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Carregando a base de dados</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">'train.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\everton.bandeira\AppData\Local\Temp\ipykernel_9836\1677551555.py:2: DtypeWarning: Columns (26) have mixed types. Specify dtype option on import or set low_memory=False.
  data = pd.read_csv('train.csv')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'Customer_ID'</span>].nunique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>12500</code></pre>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Nome das colunas da base de dados</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>data.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>Index(['ID', 'Customer_ID', 'Month', 'Name', 'Age', 'SSN', 'Occupation',
       'Annual_Income', 'Monthly_Inhand_Salary', 'Num_Bank_Accounts',
       'Num_Credit_Card', 'Interest_Rate', 'Num_of_Loan', 'Type_of_Loan',
       'Delay_from_due_date', 'Num_of_Delayed_Payment', 'Changed_Credit_Limit',
       'Num_Credit_Inquiries', 'Credit_Mix', 'Outstanding_Debt',
       'Credit_Utilization_Ratio', 'Credit_History_Age',
       'Payment_of_Min_Amount', 'Total_EMI_per_month',
       'Amount_invested_monthly', 'Payment_Behaviour', 'Monthly_Balance',
       'Credit_Score'],
      dtype='object')</code></pre>
</div>
</div>
<section id="tratamento-inicial-das-variáveis" class="level2">
<h2 class="anchored" data-anchor-id="tratamento-inicial-das-variáveis">Tratamento inicial das variáveis</h2>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> data.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando o tipo das variáveis</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>df1.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>ID                           object
Customer_ID                  object
Month                        object
Name                         object
Age                          object
SSN                          object
Occupation                   object
Annual_Income                object
Monthly_Inhand_Salary       float64
Num_Bank_Accounts             int64
Num_Credit_Card               int64
Interest_Rate                 int64
Num_of_Loan                  object
Type_of_Loan                 object
Delay_from_due_date           int64
Num_of_Delayed_Payment       object
Changed_Credit_Limit         object
Num_Credit_Inquiries        float64
Credit_Mix                   object
Outstanding_Debt             object
Credit_Utilization_Ratio    float64
Credit_History_Age           object
Payment_of_Min_Amount        object
Total_EMI_per_month         float64
Amount_invested_monthly      object
Payment_Behaviour            object
Monthly_Balance              object
Credit_Score                 object
dtype: object</code></pre>
</div>
</div>
<section id="alterando-os-tipos-das-variáveis" class="level3">
<h3 class="anchored" data-anchor-id="alterando-os-tipos-das-variáveis">Alterando os tipos das variáveis</h3>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Annual_Income'</span>] <span class="op">=</span>  df1[<span class="st">'Annual_Income'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: re.sub(<span class="vs">r'[^0-9.]'</span>,<span class="st">''</span>,x))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Annual_Income'</span>] <span class="op">=</span> df1[<span class="st">'Annual_Income'</span>].astype(np.float64)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_of_Loan'</span>] <span class="op">=</span>  df1[<span class="st">'Num_of_Loan'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: re.sub(<span class="vs">r'[^0-9.]'</span>,<span class="st">''</span>,x))</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_of_Loan'</span>] <span class="op">=</span> df1[<span class="st">'Num_of_Loan'</span>].astype(np.int64)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_of_Delayed_Payment'</span>] <span class="op">=</span> df1[<span class="st">'Num_of_Delayed_Payment'</span>].astype(<span class="bu">str</span>).<span class="bu">apply</span>(<span class="kw">lambda</span> x: re.sub(<span class="vs">r'[^0-9.]'</span>,<span class="st">''</span>,x))</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_of_Delayed_Payment'</span>] <span class="op">=</span> pd.to_numeric(df1[<span class="st">'Num_of_Delayed_Payment'</span>],errors<span class="op">=</span><span class="st">'coerce'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Changed_Credit_Limit'</span>] <span class="op">=</span> df1[<span class="st">'Changed_Credit_Limit'</span>].astype(<span class="bu">str</span>).<span class="bu">apply</span>(<span class="kw">lambda</span> x: re.sub(<span class="vs">r'[^0-9.]'</span>,<span class="st">''</span>,x))</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Changed_Credit_Limit'</span>] <span class="op">=</span> pd.to_numeric(df1[<span class="st">'Changed_Credit_Limit'</span>],errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Changed_Credit_Limit'</span>] <span class="op">=</span> df1[<span class="st">'Changed_Credit_Limit'</span>].astype(<span class="bu">float</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Outstanding_Debt'</span>] <span class="op">=</span> df1[<span class="st">'Outstanding_Debt'</span>].astype(<span class="bu">str</span>).<span class="bu">apply</span>(<span class="kw">lambda</span> x: re.sub(<span class="vs">r'[^0-9.]'</span>,<span class="st">''</span>,x))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Outstanding_Debt'</span>] <span class="op">=</span> pd.to_numeric(df1[<span class="st">'Outstanding_Debt'</span>],errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Outstanding_Debt'</span>] <span class="op">=</span> df1[<span class="st">'Outstanding_Debt'</span>].astype(<span class="bu">float</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_Credit_Inquiries'</span>] <span class="op">=</span> df1[<span class="st">'Num_Credit_Inquiries'</span>].astype(<span class="bu">str</span>).<span class="bu">apply</span>(<span class="kw">lambda</span> x: re.sub(<span class="vs">r'[^0-9.]'</span>,<span class="st">''</span>,x))</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_Credit_Inquiries'</span>] <span class="op">=</span> pd.to_numeric(df1[<span class="st">'Num_Credit_Inquiries'</span>],errors<span class="op">=</span><span class="st">'coerce'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Amount_invested_monthly'</span>] <span class="op">=</span> df1[<span class="st">'Amount_invested_monthly'</span>].astype(<span class="bu">str</span>).<span class="bu">apply</span>(<span class="kw">lambda</span> x: re.sub(<span class="vs">r'[^0-9.]'</span>,<span class="st">''</span>,x))</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Amount_invested_monthly'</span>] <span class="op">=</span> pd.to_numeric(df1[<span class="st">'Amount_invested_monthly'</span>],errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Amount_invested_monthly'</span>] <span class="op">=</span> df1[<span class="st">'Amount_invested_monthly'</span>].astype(<span class="bu">float</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Monthly_Balance'</span>] <span class="op">=</span> df1[<span class="st">'Monthly_Balance'</span>].astype(<span class="bu">str</span>).<span class="bu">apply</span>(<span class="kw">lambda</span> x: re.sub(<span class="vs">r'[^0-9.]'</span>,<span class="st">''</span>,x))</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Monthly_Balance'</span>] <span class="op">=</span> pd.to_numeric(df1[<span class="st">'Monthly_Balance'</span>],errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Monthly_Balance'</span>] <span class="op">=</span> df1[<span class="st">'Monthly_Balance'</span>].astype(<span class="bu">float</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tratando-a-coluna-type_of_loan" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-type_of_loan">Tratando a coluna Type_of_Loan</h3>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>resultado <span class="op">=</span> []</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando uma lista com todas as entradas da coluna Type_of_Loan</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>lista_texto <span class="op">=</span> <span class="bu">list</span>(df1[<span class="st">'Type_of_Loan'</span>].astype(<span class="bu">str</span>))</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Separando os tipos de emprestimo dentro da lista</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> loan <span class="kw">in</span> lista_texto:</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> re.split(<span class="vs">r',|and'</span>, loan)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    resultado.append(text)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando uma lista com valores únicos de tipo de emprestimo</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>loan_types <span class="op">=</span> desaninhar(resultado)</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>loan_types <span class="op">=</span> <span class="bu">list</span>(<span class="bu">set</span>(loan_types))</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Tratando a lista criada</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>nova_lista <span class="op">=</span> []</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="bu">type</span> <span class="kw">in</span> loan_types:</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    texto_puro <span class="op">=</span> re.sub(<span class="vs">r'\s+|nan|'</span>,<span class="st">''</span>,<span class="bu">type</span>)</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>    nova_lista.append(texto_puro)</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Removendo valores vazios na lista   </span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>lista_sem_vazios <span class="op">=</span> [item <span class="cf">for</span> item <span class="kw">in</span> nova_lista <span class="cf">if</span> item <span class="op">!=</span> <span class="st">''</span>]</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>loan_types <span class="op">=</span> <span class="bu">list</span>(<span class="bu">set</span>(lista_sem_vazios))</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Removendo os espaços na coluna Type_of_Loan</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Type_of_Loan'</span>] <span class="op">=</span> df1[<span class="st">'Type_of_Loan'</span>].astype(<span class="bu">str</span>).<span class="bu">apply</span>(<span class="kw">lambda</span> x: re.sub(<span class="vs">r'\s+'</span>,<span class="st">''</span>,x))</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando uma coluna para cada tipo de emprestimo</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> loan_types:</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>    df1[(<span class="st">'loan_type_'</span>)<span class="op">+</span>i] <span class="op">=</span> np.nan</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>    df1[(<span class="st">'loan_type_'</span>)<span class="op">+</span>i] <span class="op">=</span> df1[<span class="st">'Type_of_Loan'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="dv">1</span> <span class="cf">if</span> re.search(i,x) <span class="cf">else</span> <span class="dv">0</span>)</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Dropando a coluna original de Type_of_Loan   </span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>df1.drop(<span class="st">'Type_of_Loan'</span>,axis<span class="op">=</span><span class="dv">1</span>,inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tratando-a-coluna-payment_behaviour" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-payment_behaviour">Tratando a Coluna Payment_Behaviour</h3>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Payment_Behaviour'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>Low_spent_Small_value_payments      25513
High_spent_Medium_value_payments    17540
Low_spent_Medium_value_payments     13861
High_spent_Large_value_payments     13721
High_spent_Small_value_payments     11340
Low_spent_Large_value_payments      10425
!@9#%8                               7600
Name: Payment_Behaviour, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Trocando a sequencia de caracteres '!@9#%8' por ''</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Payment_Behaviour'</span>] <span class="op">=</span> df1[<span class="st">'Payment_Behaviour'</span>].replace(<span class="st">'!@9#%8'</span>,<span class="st">''</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Substituindo na coluna Payment_Behaviour o valor vazio pela moda do grupo</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Payment_Behaviour'</span>]<span class="op">==</span><span class="st">''</span>,<span class="st">'Payment_Behaviour'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Payment_Behaviour'</span>].transform(calcular_moda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tratando-a-coluna-age" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-age">Tratando a coluna Age</h3>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Age'</span>] <span class="op">=</span> df1[<span class="st">'Age'</span>].astype(<span class="bu">str</span>).<span class="bu">apply</span>(<span class="kw">lambda</span> x: re.sub(<span class="vs">r'[^0-9.]'</span>,<span class="st">''</span>,x))</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Age'</span>] <span class="op">=</span> pd.to_numeric(df1[<span class="st">'Age'</span>])</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Age'</span>] <span class="op">=</span> df1[<span class="st">'Age'</span>].astype(np.int64)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>df1.loc[(df1[<span class="st">'Age'</span>] <span class="op">&lt;=</span><span class="dv">0</span>) <span class="op">|</span> (df1[<span class="st">'Age'</span>] <span class="op">&gt;=</span> <span class="dv">100</span>), <span class="st">'Age'</span>] <span class="op">=</span> <span class="st">''</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Age'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Age'</span>].transform(calcular_moda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Age'</span>],kde<span class="op">=</span><span class="st">'density'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>&lt;AxesSubplot:xlabel='Age', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-21-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="tratando-a-coluna-occupation" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-occupation">Tratando a coluna Occupation</h3>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Occupation'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>_______          7062
Lawyer           6575
Architect        6355
Engineer         6350
Scientist        6299
Mechanic         6291
Accountant       6271
Developer        6235
Media_Manager    6232
Teacher          6215
Entrepreneur     6174
Doctor           6087
Journalist       6085
Manager          5973
Musician         5911
Writer           5885
Name: Occupation, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Occupation'</span>] <span class="op">=</span> df1[<span class="st">'Occupation'</span>].replace(<span class="st">'_______'</span>,<span class="st">''</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Occupation'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Occupation'</span>].transform(calcular_moda)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Occupation'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>Lawyer           7096
Engineer         6864
Architect        6824
Mechanic         6776
Scientist        6744
Accountant       6744
Developer        6720
Media_Manager    6720
Teacher          6672
Entrepreneur     6648
Doctor           6568
Journalist       6536
Manager          6432
Musician         6352
Writer           6304
Name: Occupation, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="tratando-a-coluna-credit_mix" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-credit_mix">Tratando a coluna Credit_Mix</h3>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Credit_Mix'</span>] <span class="op">=</span> df1[<span class="st">'Credit_Mix'</span>].replace(<span class="st">'_'</span>,<span class="st">''</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Credit_Mix'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Credit_Mix'</span>].transform(calcular_moda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Credit_Mix'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>Standard    45848
Good        30384
Bad         23768
Name: Credit_Mix, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="dropando-a-coluna-ssn-id-e-name" class="level3">
<h3 class="anchored" data-anchor-id="dropando-a-coluna-ssn-id-e-name">Dropando a coluna SSN, ID e Name</h3>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df1.drop(<span class="st">'SSN'</span>,axis<span class="op">=</span><span class="dv">1</span>,inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>df1.drop(<span class="st">'ID'</span>,axis<span class="op">=</span><span class="dv">1</span>,inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>df1.drop(<span class="st">'Name'</span>,axis<span class="op">=</span><span class="dv">1</span>,inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tratando-a-coluna-annual_income" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-annual_income">Tratando a coluna Annual_Income</h3>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Annual_Income'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>17816.750       16
22434.160       16
40341.160       16
17273.830       16
109945.320      16
                ..
17079092.000     1
1910572.000      1
20179076.000     1
7980216.000      1
8299495.000      1
Name: Annual_Income, Length: 13487, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Annual_Income'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>&lt;AxesSubplot:xlabel='Annual_Income', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-28-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data <span class="op">=</span> df1 , x<span class="op">=</span><span class="st">'Occupation'</span>,y<span class="op">=</span><span class="st">'Annual_Income'</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-29-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Annual_Income'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Annual_Income'</span>].transform(calcular_moda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data <span class="op">=</span> df1 , x<span class="op">=</span><span class="st">'Occupation'</span>,y<span class="op">=</span><span class="st">'Annual_Income'</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-31-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Annual_Income'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>&lt;AxesSubplot:xlabel='Annual_Income', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-32-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Annual_Income'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>20867.670    16
9141.630     16
32543.380    16
40341.160    16
22434.160    16
             ..
18317.260     8
14784.450     8
60573.960     8
18413.795     8
39628.990     8
Name: Annual_Income, Length: 12488, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="tratando-a-coluna-monthly_inhand_salary" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-monthly_inhand_salary">Tratando a coluna Monthly_Inhand_Salary</h3>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Monthly_Inhand_Salary'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>count   84998.000
mean     4194.171
std      3183.686
min       303.645
25%      1625.568
50%      3093.745
75%      5957.448
max     15204.633
Name: Monthly_Inhand_Salary, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Monthly_Inhand_Salary'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>&lt;AxesSubplot:xlabel='Monthly_Inhand_Salary', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-35-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sns.boxplot(df1, x='Occupation',y='Monthly_Inhand_Salary')</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.xticks(rotation = 45)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Monthly_Inhand_Salary'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>NaN         15002
2295.058       15
6082.188       15
6769.130       15
6358.957       15
            ...  
1087.546        1
3189.212        1
5640.118        1
7727.560        1
2443.654        1
Name: Monthly_Inhand_Salary, Length: 13236, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Monthly_Inhand_Salary'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Monthly_Inhand_Salary'</span>].transform(calcular_moda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Monthly_Inhand_Salary'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>6639.560    16
5766.492    16
2295.058    16
6769.130    16
3080.555    16
            ..
1499.732     8
5620.682     8
3498.527     8
6578.040     8
3359.416     8
Name: Monthly_Inhand_Salary, Length: 12489, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Monthly_Inhand_Salary'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>&lt;AxesSubplot:xlabel='Monthly_Inhand_Salary', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-40-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sns.boxplot(df1, x='Occupation',y='Monthly_Inhand_Salary')</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.xticks(rotation = 45)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tratamento-da-coluna-num_bank_accounts" class="level3">
<h3 class="anchored" data-anchor-id="tratamento-da-coluna-num_bank_accounts">Tratamento da coluna Num_Bank_Accounts</h3>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_Bank_Accounts'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>6       13001
7       12823
8       12765
4       12186
5       12118
        ...  
1626        1
1470        1
887         1
211         1
697         1
Name: Num_Bank_Accounts, Length: 943, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_Bank_Accounts'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>count   100000.000
mean        17.091
std        117.405
min         -1.000
25%          3.000
50%          6.000
75%          7.000
max       1798.000
Name: Num_Bank_Accounts, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Num_Bank_Accounts'</span>].mean().reset_index().sort_values(<span class="st">'Num_Bank_Accounts'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Customer_ID</th>
      <th>Num_Bank_Accounts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1132</th>
      <td>CUS_0x22b9</td>
      <td>411.250</td>
    </tr>
    <tr>
      <th>65</th>
      <td>CUS_0x112e</td>
      <td>384.750</td>
    </tr>
    <tr>
      <th>11855</th>
      <td>CUS_0xc0a3</td>
      <td>382.500</td>
    </tr>
    <tr>
      <th>1595</th>
      <td>CUS_0x29b1</td>
      <td>375.250</td>
    </tr>
    <tr>
      <th>9754</th>
      <td>CUS_0xa1cc</td>
      <td>368.750</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5725</th>
      <td>CUS_0x660b</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>4849</th>
      <td>CUS_0x5993</td>
      <td>-0.500</td>
    </tr>
    <tr>
      <th>3330</th>
      <td>CUS_0x43bc</td>
      <td>-0.500</td>
    </tr>
    <tr>
      <th>4161</th>
      <td>CUS_0x4f2a</td>
      <td>-0.750</td>
    </tr>
    <tr>
      <th>10204</th>
      <td>CUS_0xa878</td>
      <td>-0.875</td>
    </tr>
  </tbody>
</table>
<p>12500 rows × 2 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(df1[<span class="st">'Num_Bank_Accounts'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\seaborn\_decorators.py:36: FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>&lt;AxesSubplot:xlabel='Num_Bank_Accounts'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-45-output-3.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Num_Bank_Accounts'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>&lt;AxesSubplot:xlabel='Num_Bank_Accounts', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-46-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Num_Bank_Accounts'</span>]<span class="op">&lt;</span><span class="dv">0</span>,<span class="st">'Num_Bank_Accounts'</span>] <span class="op">=</span> np.nan</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_Bank_Accounts'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Num_Bank_Accounts'</span>].transform(calcular_moda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(df1[<span class="st">'Num_Bank_Accounts'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\seaborn\_decorators.py:36: FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>&lt;AxesSubplot:xlabel='Num_Bank_Accounts'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-48-output-3.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Num_Bank_Accounts'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>&lt;AxesSubplot:xlabel='Num_Bank_Accounts', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-49-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_Bank_Accounts'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>6.000     13200
7.000     12960
8.000     12960
4.000     12328
5.000     12304
3.000     12136
9.000      5512
10.000     5336
1.000      4552
0.000      4400
2.000      4312
Name: Num_Bank_Accounts, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="tratando-a-coluna-num_credit_card" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-num_credit_card">Tratando a coluna Num_Credit_Card</h3>
<div class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_Credit_Card'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>5       18459
7       16615
6       16559
4       14030
3       13277
        ...  
791         1
1118        1
657         1
640         1
679         1
Name: Num_Credit_Card, Length: 1179, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_Credit_Card'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre><code>count   100000.000
mean        22.474
std        129.057
min          0.000
25%          4.000
50%          5.000
75%          7.000
max       1499.000
Name: Num_Credit_Card, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_Credit_Card'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Num_Credit_Card'</span>].transform(calcular_moda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_Credit_Card'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>count   100000.000
mean         5.535
std          2.067
min          1.000
25%          4.000
50%          5.000
75%          7.000
max         11.000
Name: Num_Credit_Card, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="tratando-a-coluna-interest_rate" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-interest_rate">Tratando a coluna Interest_Rate</h3>
<div class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Interest_Rate'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<pre><code>8       5012
5       4979
6       4721
12      4540
10      4540
        ... 
4995       1
1899       1
2120       1
5762       1
5729       1
Name: Interest_Rate, Length: 1750, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Interest_Rate'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<pre><code>count   100000.000
mean        72.466
std        466.423
min          1.000
25%          8.000
50%         13.000
75%         20.000
max       5797.000
Name: Interest_Rate, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Interest_Rate'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<pre><code>&lt;AxesSubplot:xlabel='Interest_Rate', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-57-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Interest_Rate'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Interest_Rate'</span>].transform(calcular_moda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Interest_Rate'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>&lt;AxesSubplot:xlabel='Interest_Rate', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-59-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Interest_Rate'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<pre><code>count   100000.000
mean        14.532
std          8.741
min          1.000
25%          7.000
50%         13.000
75%         20.000
max         34.000
Name: Interest_Rate, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>df1[df1[<span class="st">'Interest_Rate'</span>]<span class="op">==</span><span class="dv">34</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Customer_ID</th>
      <th>Month</th>
      <th>Age</th>
      <th>Occupation</th>
      <th>Annual_Income</th>
      <th>Monthly_Inhand_Salary</th>
      <th>Num_Bank_Accounts</th>
      <th>Num_Credit_Card</th>
      <th>Interest_Rate</th>
      <th>Num_of_Loan</th>
      <th>Delay_from_due_date</th>
      <th>Num_of_Delayed_Payment</th>
      <th>Changed_Credit_Limit</th>
      <th>Num_Credit_Inquiries</th>
      <th>Credit_Mix</th>
      <th>Outstanding_Debt</th>
      <th>Credit_Utilization_Ratio</th>
      <th>Credit_History_Age</th>
      <th>Payment_of_Min_Amount</th>
      <th>Total_EMI_per_month</th>
      <th>Amount_invested_monthly</th>
      <th>Payment_Behaviour</th>
      <th>Monthly_Balance</th>
      <th>Credit_Score</th>
      <th>loan_type_PersonalLoan</th>
      <th>loan_type_HomeEquityLoan</th>
      <th>loan_type_DebtConsolidationLoan</th>
      <th>loan_type_MortgageLoan</th>
      <th>loan_type_Credit-BuilderLoan</th>
      <th>loan_type_AutoLoan</th>
      <th>loan_type_PaydayLoan</th>
      <th>loan_type_NotSpecified</th>
      <th>loan_type_StudentLoan</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>936</th>
      <td>CUS_0x5e17</td>
      <td>January</td>
      <td>32</td>
      <td>Scientist</td>
      <td>19795.520</td>
      <td>1662.627</td>
      <td>7.000</td>
      <td>10</td>
      <td>34</td>
      <td>8</td>
      <td>15</td>
      <td>21.000</td>
      <td>22.790</td>
      <td>10.000</td>
      <td>Bad</td>
      <td>3135.020</td>
      <td>37.821</td>
      <td>2 Years and 3 Months</td>
      <td>Yes</td>
      <td>130.475</td>
      <td>77.066</td>
      <td>Low_spent_Small_value_payments</td>
      <td>248.721</td>
      <td>Standard</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>937</th>
      <td>CUS_0x5e17</td>
      <td>February</td>
      <td>32</td>
      <td>Scientist</td>
      <td>19795.520</td>
      <td>1662.627</td>
      <td>7.000</td>
      <td>10</td>
      <td>34</td>
      <td>8</td>
      <td>15</td>
      <td>22.000</td>
      <td>22.790</td>
      <td>15.000</td>
      <td>Bad</td>
      <td>3135.020</td>
      <td>26.826</td>
      <td>2 Years and 4 Months</td>
      <td>Yes</td>
      <td>130.475</td>
      <td>174.710</td>
      <td>Low_spent_Small_value_payments</td>
      <td>151.077</td>
      <td>Poor</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>938</th>
      <td>CUS_0x5e17</td>
      <td>March</td>
      <td>32</td>
      <td>Scientist</td>
      <td>19795.520</td>
      <td>1662.627</td>
      <td>7.000</td>
      <td>10</td>
      <td>34</td>
      <td>8</td>
      <td>15</td>
      <td>21.000</td>
      <td>22.790</td>
      <td>15.000</td>
      <td>Bad</td>
      <td>3135.020</td>
      <td>27.575</td>
      <td>2 Years and 5 Months</td>
      <td>Yes</td>
      <td>130.475</td>
      <td>61.279</td>
      <td>High_spent_Medium_value_payments</td>
      <td>224.509</td>
      <td>Poor</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>939</th>
      <td>CUS_0x5e17</td>
      <td>April</td>
      <td>32</td>
      <td>Scientist</td>
      <td>19795.520</td>
      <td>1662.627</td>
      <td>7.000</td>
      <td>10</td>
      <td>34</td>
      <td>8</td>
      <td>15</td>
      <td>18.000</td>
      <td>28.790</td>
      <td>15.000</td>
      <td>Bad</td>
      <td>3135.020</td>
      <td>36.647</td>
      <td>2 Years and 6 Months</td>
      <td>Yes</td>
      <td>130.475</td>
      <td>76.758</td>
      <td>Low_spent_Large_value_payments</td>
      <td>229.029</td>
      <td>Poor</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>940</th>
      <td>CUS_0x5e17</td>
      <td>May</td>
      <td>32</td>
      <td>Scientist</td>
      <td>19795.520</td>
      <td>1662.627</td>
      <td>7.000</td>
      <td>10</td>
      <td>34</td>
      <td>8</td>
      <td>15</td>
      <td>21.000</td>
      <td>22.790</td>
      <td>15.000</td>
      <td>Bad</td>
      <td>3135.020</td>
      <td>34.366</td>
      <td>2 Years and 7 Months</td>
      <td>Yes</td>
      <td>130.475</td>
      <td>143.610</td>
      <td>Low_spent_Large_value_payments</td>
      <td>162.177</td>
      <td>Poor</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>99131</th>
      <td>CUS_0xbb53</td>
      <td>April</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>77633.040</td>
      <td>6635.420</td>
      <td>7.000</td>
      <td>5</td>
      <td>34</td>
      <td>5</td>
      <td>52</td>
      <td>26.000</td>
      <td>15.480</td>
      <td>8.000</td>
      <td>Bad</td>
      <td>3392.650</td>
      <td>27.410</td>
      <td>0 Years and 7 Months</td>
      <td>Yes</td>
      <td>227.777</td>
      <td>581.367</td>
      <td>Low_spent_Medium_value_payments</td>
      <td>134.398</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>99132</th>
      <td>CUS_0xbb53</td>
      <td>May</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>77633.040</td>
      <td>6635.420</td>
      <td>7.000</td>
      <td>5</td>
      <td>34</td>
      <td>5</td>
      <td>55</td>
      <td>23.000</td>
      <td>15.480</td>
      <td>8.000</td>
      <td>Bad</td>
      <td>3392.650</td>
      <td>21.880</td>
      <td>0 Years and 8 Months</td>
      <td>Yes</td>
      <td>227.777</td>
      <td>NaN</td>
      <td>Low_spent_Medium_value_payments</td>
      <td>138.689</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>99133</th>
      <td>CUS_0xbb53</td>
      <td>June</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>77633.040</td>
      <td>6635.420</td>
      <td>7.000</td>
      <td>5</td>
      <td>34</td>
      <td>5</td>
      <td>55</td>
      <td>3336.000</td>
      <td>15.480</td>
      <td>8.000</td>
      <td>Bad</td>
      <td>3392.650</td>
      <td>32.025</td>
      <td>0 Years and 9 Months</td>
      <td>Yes</td>
      <td>227.777</td>
      <td>106.015</td>
      <td>High_spent_Large_value_payments</td>
      <td>569.750</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>99134</th>
      <td>CUS_0xbb53</td>
      <td>July</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>77633.040</td>
      <td>6635.420</td>
      <td>7.000</td>
      <td>5</td>
      <td>34</td>
      <td>100</td>
      <td>55</td>
      <td>NaN</td>
      <td>13.480</td>
      <td>8.000</td>
      <td>Bad</td>
      <td>3392.650</td>
      <td>29.383</td>
      <td>0 Years and 10 Months</td>
      <td>NM</td>
      <td>227.777</td>
      <td>10000.000</td>
      <td>Low_spent_Small_value_payments</td>
      <td>NaN</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>99135</th>
      <td>CUS_0xbb53</td>
      <td>August</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>77633.040</td>
      <td>6635.420</td>
      <td>7.000</td>
      <td>5</td>
      <td>34</td>
      <td>5</td>
      <td>55</td>
      <td>23.000</td>
      <td>19.480</td>
      <td>8.000</td>
      <td>Bad</td>
      <td>3392.650</td>
      <td>41.144</td>
      <td>0 Years and 11 Months</td>
      <td>Yes</td>
      <td>227.777</td>
      <td>476.359</td>
      <td>Low_spent_Large_value_payments</td>
      <td>229.406</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1528 rows × 33 columns</p>
</div>
</div>
</div>
</section>
<section id="tratamento-coluna-num_of_loan" class="level3">
<h3 class="anchored" data-anchor-id="tratamento-coluna-num_of_loan">Tratamento coluna Num_of_Loan</h3>
<div class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_of_Loan'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
<pre><code>3       15104
2       15032
4       14743
0       10930
1       10606
        ...  
321         1
1439        1
663         1
613         1
966         1
Name: Num_of_Loan, Length: 413, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_of_Loan'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Num_of_Loan'</span>].transform(calcular_moda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_of_Loan'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="62">
<pre><code>3    15752
2    15712
4    15456
0    11408
1    11128
6     8144
7     7680
5     7528
9     3856
8     3336
Name: Num_of_Loan, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="transformando-a-coluna-delay_from_due_date" class="level3">
<h3 class="anchored" data-anchor-id="transformando-a-coluna-delay_from_due_date">Transformando a coluna Delay_from_due_date</h3>
<section id="não-fizemos-nada-pelo-fato-do-cliente-poder-pagar-as-dividas-adiatado" class="level6">
<h6 class="anchored" data-anchor-id="não-fizemos-nada-pelo-fato-do-cliente-poder-pagar-as-dividas-adiatado">Não fizemos nada pelo fato do cliente poder pagar as dividas adiatado</h6>
<div class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Delay_from_due_date'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>).to_frame().head(<span class="dv">5</span>).reset_index().sort_values(<span class="st">'index'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>index</th>
      <th>Delay_from_due_date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>15</td>
      <td>3596</td>
    </tr>
    <tr>
      <th>3</th>
      <td>14</td>
      <td>3313</td>
    </tr>
    <tr>
      <th>1</th>
      <td>13</td>
      <td>3424</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10</td>
      <td>3281</td>
    </tr>
    <tr>
      <th>2</th>
      <td>8</td>
      <td>3324</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Delay_from_due_date'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">
<pre><code>&lt;AxesSubplot:xlabel='Delay_from_due_date', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-66-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Verificando quant. nulos</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Delay_from_due_date'</span>].isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<pre><code>0</code></pre>
</div>
</div>
</section>
</section>
<section id="tratando-a-coluna-num_of_delayed_payment" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-num_of_delayed_payment">Tratando a coluna Num_of_Delayed_Payment</h3>
<div class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_of_Delayed_Payment'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>).to_frame().head(<span class="dv">10</span>).reset_index().sort_values(<span class="st">'index'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>index</th>
      <th>Num_of_Delayed_Payment</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>7</th>
      <td>20.000</td>
      <td>5089</td>
    </tr>
    <tr>
      <th>1</th>
      <td>19.000</td>
      <td>5481</td>
    </tr>
    <tr>
      <th>6</th>
      <td>18.000</td>
      <td>5216</td>
    </tr>
    <tr>
      <th>2</th>
      <td>17.000</td>
      <td>5412</td>
    </tr>
    <tr>
      <th>3</th>
      <td>16.000</td>
      <td>5312</td>
    </tr>
    <tr>
      <th>5</th>
      <td>15.000</td>
      <td>5237</td>
    </tr>
    <tr>
      <th>8</th>
      <td>12.000</td>
      <td>5059</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10.000</td>
      <td>5309</td>
    </tr>
    <tr>
      <th>9</th>
      <td>9.000</td>
      <td>4981</td>
    </tr>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>7002</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Número máximo de atraso médio=28, então vamos substituir os valores acima disso por nan e modificar pela média do cliente.</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Num_of_Delayed_Payment'</span>] <span class="op">&gt;</span> <span class="dv">28</span>, <span class="st">'Num_of_Delayed_Payment'</span>] <span class="op">=</span> np.nan</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Num_of_Delayed_Payment'</span>].isna(),<span class="st">'Num_of_Delayed_Payment'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">"Num_of_Delayed_Payment"</span>].transform(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">"Num_of_Delayed_Payment"</span>].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="68">
<pre><code>Customer_ID
CUS_0x1000   25.000
CUS_0x1009   17.857
CUS_0x100b    7.375
CUS_0x1011   14.500
CUS_0x1013    8.429
              ...  
CUS_0xff3     8.625
CUS_0xff4    12.125
CUS_0xff6     4.000
CUS_0xffc    16.250
CUS_0xffd    11.429
Name: Num_of_Delayed_Payment, Length: 12500, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Num_of_Delayed_Payment'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="69">
<pre><code>&lt;AxesSubplot:xlabel='Num_of_Delayed_Payment', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-71-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sns.boxplot(df1, x= 'Credit_Mix', y='Num_of_Delayed_Payment')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tratando-a-coluna-changed_credit_limit" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-changed_credit_limit">Tratando a coluna Changed_Credit_Limit</h3>
<div class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Changed_Credit_Limit'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>).to_frame().head(<span class="dv">10</span>).reset_index().sort_values(<span class="st">'index'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="71">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>index</th>
      <th>Changed_Credit_Limit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>11.500</td>
      <td>127</td>
    </tr>
    <tr>
      <th>7</th>
      <td>11.490</td>
      <td>113</td>
    </tr>
    <tr>
      <th>3</th>
      <td>11.320</td>
      <td>126</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10.060</td>
      <td>121</td>
    </tr>
    <tr>
      <th>6</th>
      <td>8.230</td>
      <td>115</td>
    </tr>
    <tr>
      <th>1</th>
      <td>8.220</td>
      <td>133</td>
    </tr>
    <tr>
      <th>5</th>
      <td>7.350</td>
      <td>121</td>
    </tr>
    <tr>
      <th>9</th>
      <td>7.330</td>
      <td>110</td>
    </tr>
    <tr>
      <th>8</th>
      <td>3.930</td>
      <td>111</td>
    </tr>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>2091</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Changed_Credit_Limit'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="72">
<pre><code>&lt;AxesSubplot:xlabel='Changed_Credit_Limit', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-74-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Changed_Credit_Limit'</span>].isna(),<span class="st">'Changed_Credit_Limit'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">"Changed_Credit_Limit"</span>].transform(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tratando-a-coluna-num_credit_inquiries" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-num_credit_inquiries">Tratando a coluna Num_Credit_Inquiries</h3>
<div class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Num_Credit_Inquiries'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>).to_frame().head(<span class="dv">20</span>).reset_index().sort_values(<span class="st">'index'</span>,ascending<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="74">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>index</th>
      <th>Num_Credit_Inquiries</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>7</th>
      <td>0.000</td>
      <td>6972</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1.000</td>
      <td>7588</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.000</td>
      <td>8028</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3.000</td>
      <td>8890</td>
    </tr>
    <tr>
      <th>0</th>
      <td>4.000</td>
      <td>11271</td>
    </tr>
    <tr>
      <th>8</th>
      <td>5.000</td>
      <td>5693</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6.000</td>
      <td>8111</td>
    </tr>
    <tr>
      <th>3</th>
      <td>7.000</td>
      <td>8058</td>
    </tr>
    <tr>
      <th>5</th>
      <td>8.000</td>
      <td>7866</td>
    </tr>
    <tr>
      <th>9</th>
      <td>9.000</td>
      <td>5283</td>
    </tr>
    <tr>
      <th>11</th>
      <td>10.000</td>
      <td>4936</td>
    </tr>
    <tr>
      <th>10</th>
      <td>11.000</td>
      <td>5051</td>
    </tr>
    <tr>
      <th>12</th>
      <td>12.000</td>
      <td>4571</td>
    </tr>
    <tr>
      <th>14</th>
      <td>13.000</td>
      <td>1480</td>
    </tr>
    <tr>
      <th>15</th>
      <td>14.000</td>
      <td>1039</td>
    </tr>
    <tr>
      <th>16</th>
      <td>15.000</td>
      <td>808</td>
    </tr>
    <tr>
      <th>17</th>
      <td>16.000</td>
      <td>456</td>
    </tr>
    <tr>
      <th>18</th>
      <td>17.000</td>
      <td>284</td>
    </tr>
    <tr>
      <th>19</th>
      <td>1786.000</td>
      <td>4</td>
    </tr>
    <tr>
      <th>13</th>
      <td>NaN</td>
      <td>1965</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Num_Credit_Inquiries'</span>] <span class="op">&gt;</span><span class="dv">20</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="75">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Customer_ID</th>
      <th>Month</th>
      <th>Age</th>
      <th>Occupation</th>
      <th>Annual_Income</th>
      <th>Monthly_Inhand_Salary</th>
      <th>Num_Bank_Accounts</th>
      <th>Num_Credit_Card</th>
      <th>Interest_Rate</th>
      <th>Num_of_Loan</th>
      <th>Delay_from_due_date</th>
      <th>Num_of_Delayed_Payment</th>
      <th>Changed_Credit_Limit</th>
      <th>Num_Credit_Inquiries</th>
      <th>Credit_Mix</th>
      <th>Outstanding_Debt</th>
      <th>Credit_Utilization_Ratio</th>
      <th>Credit_History_Age</th>
      <th>Payment_of_Min_Amount</th>
      <th>Total_EMI_per_month</th>
      <th>Amount_invested_monthly</th>
      <th>Payment_Behaviour</th>
      <th>Monthly_Balance</th>
      <th>Credit_Score</th>
      <th>loan_type_PersonalLoan</th>
      <th>loan_type_HomeEquityLoan</th>
      <th>loan_type_DebtConsolidationLoan</th>
      <th>loan_type_MortgageLoan</th>
      <th>loan_type_Credit-BuilderLoan</th>
      <th>loan_type_AutoLoan</th>
      <th>loan_type_PaydayLoan</th>
      <th>loan_type_NotSpecified</th>
      <th>loan_type_StudentLoan</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>173</th>
      <td>CUS_0xa16e</td>
      <td>June</td>
      <td>41</td>
      <td>Media_Manager</td>
      <td>10183.015</td>
      <td>1074.585</td>
      <td>7.000</td>
      <td>5</td>
      <td>17</td>
      <td>5</td>
      <td>48</td>
      <td>24.000</td>
      <td>10.970</td>
      <td>1050.000</td>
      <td>Bad</td>
      <td>1672.430</td>
      <td>25.105</td>
      <td>10 Years and 6 Months</td>
      <td>Yes</td>
      <td>37.588</td>
      <td>73.900</td>
      <td>Low_spent_Small_value_payments</td>
      <td>285.971</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>193</th>
      <td>CUS_0xa5f9</td>
      <td>February</td>
      <td>34</td>
      <td>Mechanic</td>
      <td>57983.120</td>
      <td>4720.927</td>
      <td>9.000</td>
      <td>8</td>
      <td>31</td>
      <td>8</td>
      <td>53</td>
      <td>21.000</td>
      <td>7.270</td>
      <td>1044.000</td>
      <td>Bad</td>
      <td>3532.830</td>
      <td>37.874</td>
      <td>12 Years and 3 Months</td>
      <td>Yes</td>
      <td>200.433</td>
      <td>193.873</td>
      <td>High_spent_Medium_value_payments</td>
      <td>327.787</td>
      <td>Standard</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>198</th>
      <td>CUS_0xa5f9</td>
      <td>July</td>
      <td>34</td>
      <td>Mechanic</td>
      <td>57983.120</td>
      <td>4720.927</td>
      <td>9.000</td>
      <td>8</td>
      <td>31</td>
      <td>8</td>
      <td>49</td>
      <td>21.000</td>
      <td>7.270</td>
      <td>1936.000</td>
      <td>Bad</td>
      <td>3532.830</td>
      <td>24.631</td>
      <td>12 Years and 8 Months</td>
      <td>Yes</td>
      <td>200.433</td>
      <td>234.732</td>
      <td>Low_spent_Medium_value_payments</td>
      <td>316.928</td>
      <td>Standard</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>234</th>
      <td>CUS_0xb681</td>
      <td>March</td>
      <td>37</td>
      <td>Manager</td>
      <td>39641.540</td>
      <td>3007.462</td>
      <td>10.000</td>
      <td>8</td>
      <td>25</td>
      <td>6</td>
      <td>61</td>
      <td>15.000</td>
      <td>1.540</td>
      <td>568.000</td>
      <td>Bad</td>
      <td>2258.730</td>
      <td>27.573</td>
      <td>8 Years and 10 Months</td>
      <td>Yes</td>
      <td>172.383</td>
      <td>198.042</td>
      <td>High_spent_Small_value_payments</td>
      <td>190.322</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>312</th>
      <td>CUS_0x571f</td>
      <td>January</td>
      <td>18</td>
      <td>Developer</td>
      <td>66567.320</td>
      <td>5800.277</td>
      <td>5.000</td>
      <td>7</td>
      <td>5</td>
      <td>2</td>
      <td>7</td>
      <td>15.000</td>
      <td>7.670</td>
      <td>1618.000</td>
      <td>Standard</td>
      <td>233.790</td>
      <td>34.456</td>
      <td>24 Years and 3 Months</td>
      <td>No</td>
      <td>37602.000</td>
      <td>251.647</td>
      <td>Low_spent_Small_value_payments</td>
      <td>518.191</td>
      <td>Standard</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>99717</th>
      <td>CUS_0xadbd</td>
      <td>June</td>
      <td>26</td>
      <td>Doctor</td>
      <td>35793.970</td>
      <td>2799.831</td>
      <td>5.000</td>
      <td>6</td>
      <td>8</td>
      <td>4</td>
      <td>10</td>
      <td>11.000</td>
      <td>9.920</td>
      <td>1361.000</td>
      <td>Good</td>
      <td>82.150</td>
      <td>25.364</td>
      <td>23 Years and 4 Months</td>
      <td>No</td>
      <td>113.833</td>
      <td>131.208</td>
      <td>Low_spent_Medium_value_payments</td>
      <td>314.942</td>
      <td>Standard</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>99769</th>
      <td>CUS_0xc345</td>
      <td>February</td>
      <td>24</td>
      <td>Architect</td>
      <td>60015.320</td>
      <td>5121.277</td>
      <td>7.000</td>
      <td>4</td>
      <td>14</td>
      <td>7</td>
      <td>8</td>
      <td>8.000</td>
      <td>10.470</td>
      <td>310.000</td>
      <td>Standard</td>
      <td>1095.150</td>
      <td>35.864</td>
      <td>15 Years and 3 Months</td>
      <td>Yes</td>
      <td>187.009</td>
      <td>241.314</td>
      <td>Low_spent_Large_value_payments</td>
      <td>353.805</td>
      <td>Standard</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>99789</th>
      <td>CUS_0x62f5</td>
      <td>June</td>
      <td>54</td>
      <td>Musician</td>
      <td>99520.500</td>
      <td>8479.375</td>
      <td>3.000</td>
      <td>1</td>
      <td>5</td>
      <td>3</td>
      <td>8</td>
      <td>8.000</td>
      <td>4.080</td>
      <td>93.000</td>
      <td>Good</td>
      <td>547.210</td>
      <td>32.225</td>
      <td>16 Years and 6 Months</td>
      <td>No</td>
      <td>196.529</td>
      <td>NaN</td>
      <td>High_spent_Large_value_payments</td>
      <td>704.732</td>
      <td>Good</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>99800</th>
      <td>CUS_0x1232</td>
      <td>January</td>
      <td>17</td>
      <td>Developer</td>
      <td>14937.490</td>
      <td>1142.791</td>
      <td>8.000</td>
      <td>8</td>
      <td>22</td>
      <td>7</td>
      <td>44</td>
      <td>12.000</td>
      <td>24.599</td>
      <td>2209.000</td>
      <td>Bad</td>
      <td>3699.440</td>
      <td>23.575</td>
      <td>13 Years and 2 Months</td>
      <td>Yes</td>
      <td>50.961</td>
      <td>97.587</td>
      <td>Low_spent_Small_value_payments</td>
      <td>255.731</td>
      <td>Standard</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>99872</th>
      <td>CUS_0x3855</td>
      <td>January</td>
      <td>27</td>
      <td>Scientist</td>
      <td>118677.540</td>
      <td>9963.795</td>
      <td>4.000</td>
      <td>4</td>
      <td>6</td>
      <td>4</td>
      <td>4</td>
      <td>13.000</td>
      <td>9.590</td>
      <td>74.000</td>
      <td>Good</td>
      <td>995.470</td>
      <td>36.238</td>
      <td>29 Years and 11 Months</td>
      <td>No</td>
      <td>38424.000</td>
      <td>NaN</td>
      <td>High_spent_Large_value_payments</td>
      <td>842.587</td>
      <td>Good</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>1650 rows × 33 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Customer_ID'</span>] <span class="op">==</span><span class="st">'CUS_0x5cc0'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="76">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Customer_ID</th>
      <th>Month</th>
      <th>Age</th>
      <th>Occupation</th>
      <th>Annual_Income</th>
      <th>Monthly_Inhand_Salary</th>
      <th>Num_Bank_Accounts</th>
      <th>Num_Credit_Card</th>
      <th>Interest_Rate</th>
      <th>Num_of_Loan</th>
      <th>Delay_from_due_date</th>
      <th>Num_of_Delayed_Payment</th>
      <th>Changed_Credit_Limit</th>
      <th>Num_Credit_Inquiries</th>
      <th>Credit_Mix</th>
      <th>Outstanding_Debt</th>
      <th>Credit_Utilization_Ratio</th>
      <th>Credit_History_Age</th>
      <th>Payment_of_Min_Amount</th>
      <th>Total_EMI_per_month</th>
      <th>Amount_invested_monthly</th>
      <th>Payment_Behaviour</th>
      <th>Monthly_Balance</th>
      <th>Credit_Score</th>
      <th>loan_type_PersonalLoan</th>
      <th>loan_type_HomeEquityLoan</th>
      <th>loan_type_DebtConsolidationLoan</th>
      <th>loan_type_MortgageLoan</th>
      <th>loan_type_Credit-BuilderLoan</th>
      <th>loan_type_AutoLoan</th>
      <th>loan_type_PaydayLoan</th>
      <th>loan_type_NotSpecified</th>
      <th>loan_type_StudentLoan</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>80584</th>
      <td>CUS_0x5cc0</td>
      <td>January</td>
      <td>17</td>
      <td>Architect</td>
      <td>34343.960</td>
      <td>2897.997</td>
      <td>10.000</td>
      <td>8</td>
      <td>28</td>
      <td>3</td>
      <td>53</td>
      <td>17.000</td>
      <td>14.090</td>
      <td>12.000</td>
      <td>Bad</td>
      <td>1699.050</td>
      <td>38.520</td>
      <td>11 Years and 2 Months</td>
      <td>Yes</td>
      <td>66.353</td>
      <td>226.485</td>
      <td>Low_spent_Medium_value_payments</td>
      <td>276.961</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>80585</th>
      <td>CUS_0x5cc0</td>
      <td>February</td>
      <td>17</td>
      <td>Architect</td>
      <td>34343.960</td>
      <td>2897.997</td>
      <td>10.000</td>
      <td>8</td>
      <td>28</td>
      <td>3</td>
      <td>53</td>
      <td>17.000</td>
      <td>12.090</td>
      <td>29.000</td>
      <td>Bad</td>
      <td>1699.050</td>
      <td>40.769</td>
      <td>11 Years and 3 Months</td>
      <td>NM</td>
      <td>66.353</td>
      <td>102.827</td>
      <td>High_spent_Medium_value_payments</td>
      <td>370.619</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>80586</th>
      <td>CUS_0x5cc0</td>
      <td>March</td>
      <td>17</td>
      <td>Architect</td>
      <td>34343.960</td>
      <td>2897.997</td>
      <td>10.000</td>
      <td>8</td>
      <td>28</td>
      <td>3</td>
      <td>54</td>
      <td>14.000</td>
      <td>19.090</td>
      <td>12.000</td>
      <td>Bad</td>
      <td>1699.050</td>
      <td>38.534</td>
      <td>11 Years and 4 Months</td>
      <td>Yes</td>
      <td>66.353</td>
      <td>177.647</td>
      <td>Low_spent_Small_value_payments</td>
      <td>335.799</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>80587</th>
      <td>CUS_0x5cc0</td>
      <td>April</td>
      <td>17</td>
      <td>Architect</td>
      <td>34343.960</td>
      <td>2897.997</td>
      <td>10.000</td>
      <td>8</td>
      <td>28</td>
      <td>3</td>
      <td>53</td>
      <td>17.000</td>
      <td>19.090</td>
      <td>12.000</td>
      <td>Bad</td>
      <td>1699.050</td>
      <td>40.635</td>
      <td>11 Years and 5 Months</td>
      <td>Yes</td>
      <td>66.353</td>
      <td>126.705</td>
      <td>Low_spent_Small_value_payments</td>
      <td>386.741</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>80588</th>
      <td>CUS_0x5cc0</td>
      <td>May</td>
      <td>17</td>
      <td>Architect</td>
      <td>34343.960</td>
      <td>2897.997</td>
      <td>10.000</td>
      <td>8</td>
      <td>28</td>
      <td>3</td>
      <td>53</td>
      <td>17.000</td>
      <td>14.090</td>
      <td>12.000</td>
      <td>Bad</td>
      <td>1699.050</td>
      <td>33.123</td>
      <td>11 Years and 6 Months</td>
      <td>Yes</td>
      <td>66.353</td>
      <td>NaN</td>
      <td>Low_spent_Large_value_payments</td>
      <td>376.882</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>80589</th>
      <td>CUS_0x5cc0</td>
      <td>June</td>
      <td>17</td>
      <td>Architect</td>
      <td>34343.960</td>
      <td>2897.997</td>
      <td>10.000</td>
      <td>8</td>
      <td>28</td>
      <td>3</td>
      <td>53</td>
      <td>17.000</td>
      <td>19.090</td>
      <td>12.000</td>
      <td>Bad</td>
      <td>1699.050</td>
      <td>40.468</td>
      <td>11 Years and 7 Months</td>
      <td>Yes</td>
      <td>66.353</td>
      <td>47.962</td>
      <td>High_spent_Large_value_payments</td>
      <td>415.484</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>80590</th>
      <td>CUS_0x5cc0</td>
      <td>July</td>
      <td>17</td>
      <td>Architect</td>
      <td>34343.960</td>
      <td>2897.997</td>
      <td>10.000</td>
      <td>8</td>
      <td>28</td>
      <td>3</td>
      <td>53</td>
      <td>14.000</td>
      <td>21.090</td>
      <td>12.000</td>
      <td>Bad</td>
      <td>1699.050</td>
      <td>35.429</td>
      <td>NaN</td>
      <td>Yes</td>
      <td>66.353</td>
      <td>161.684</td>
      <td>Low_spent_Large_value_payments</td>
      <td>331.763</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>80591</th>
      <td>CUS_0x5cc0</td>
      <td>August</td>
      <td>17</td>
      <td>Architect</td>
      <td>34343.960</td>
      <td>2897.997</td>
      <td>10.000</td>
      <td>8</td>
      <td>28</td>
      <td>3</td>
      <td>53</td>
      <td>17.000</td>
      <td>19.090</td>
      <td>12.000</td>
      <td>Bad</td>
      <td>1699.050</td>
      <td>40.634</td>
      <td>11 Years and 9 Months</td>
      <td>Yes</td>
      <td>66.353</td>
      <td>47.165</td>
      <td>High_spent_Large_value_payments</td>
      <td>416.281</td>
      <td>Poor</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Num_Credit_Inquiries'</span>] <span class="op">&gt;</span> <span class="dv">30</span>, <span class="st">'Num_Credit_Inquiries'</span>] <span class="op">=</span> np.nan</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Num_Credit_Inquiries'</span>].isna(),<span class="st">'Num_Credit_Inquiries'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">"Num_Credit_Inquiries"</span>].transform(calcular_moda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="trantando-a-coluna-outstanding_debt" class="level3">
<h3 class="anchored" data-anchor-id="trantando-a-coluna-outstanding_debt">Trantando a coluna Outstanding_Debt</h3>
<div class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Outstanding_Debt'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="78">
<pre><code>0       809.980
1       809.980
2       809.980
3       809.980
4       809.980
          ...  
99995   502.380
99996   502.380
99997   502.380
99998   502.380
99999   502.380
Name: Outstanding_Debt, Length: 100000, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Outstanding_Debt'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="79">
<pre><code>count   100000.000
mean      1426.220
std       1155.129
min          0.230
25%        566.072
50%       1166.155
75%       1945.963
max       4998.070
Name: Outstanding_Debt, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="tratando-a-coluna-credit_utilization_ratio" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-credit_utilization_ratio">Tratando a coluna Credit_Utilization_Ratio</h3>
<div class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Credit_Utilization_Ratio'</span>].isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="80">
<pre><code>0</code></pre>
</div>
</div>
<div class="cell" data-execution_count="81">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Credit_Utilization_Ratio'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="81">
<pre><code>count   100000.000
mean        32.285
std          5.117
min         20.000
25%         28.053
50%         32.306
75%         36.497
max         50.000
Name: Credit_Utilization_Ratio, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="82">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Credit_Utilization_Ratio'</span>].plot(kind<span class="op">=</span><span class="st">'hist'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="82">
<pre><code>&lt;AxesSubplot:ylabel='Frequency'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-84-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="tratando-a-coluna-credit_history_age" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-credit_history_age">Tratando a coluna Credit_History_Age</h3>
<div class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Credit_History_Age'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="83">
<pre><code>NaN                       9030
15 Years and 11 Months     446
19 Years and 4 Months      445
19 Years and 5 Months      444
17 Years and 11 Months     443
                          ... 
0 Years and 3 Months        20
0 Years and 2 Months        15
33 Years and 7 Months       14
33 Years and 8 Months       12
0 Years and 1 Months         2
Name: Credit_History_Age, Length: 405, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="84">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Credit_History_Age'</span>] <span class="op">=</span> df1[<span class="st">'Credit_History_Age'</span>].astype(<span class="bu">str</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="85">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Credit_History_Age'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="85">
<pre><code>0         22 Years and 1 Months
1                           nan
2         22 Years and 3 Months
3         22 Years and 4 Months
4         22 Years and 5 Months
                  ...          
99995     31 Years and 6 Months
99996     31 Years and 7 Months
99997     31 Years and 8 Months
99998     31 Years and 9 Months
99999    31 Years and 10 Months
Name: Credit_History_Age, Length: 100000, dtype: object</code></pre>
</div>
</div>
<div class="cell" data-execution_count="86">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Years_Credit_History'</span>] <span class="op">=</span> df1[<span class="st">'Credit_History_Age'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">str</span>(x)[<span class="dv">0</span>:<span class="dv">2</span>] <span class="cf">if</span> x<span class="op">!=</span><span class="st">"nan"</span> <span class="cf">else</span> np.nan)</span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Years_Credit_History'</span>] <span class="op">=</span> pd.to_numeric(df1[<span class="st">'Years_Credit_History'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="87">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Months_Credit_History'</span>] <span class="op">=</span> df1[<span class="st">'Credit_History_Age'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">str</span>(x)[<span class="op">-</span><span class="dv">9</span>:<span class="op">-</span><span class="dv">6</span>] <span class="cf">if</span> x<span class="op">!=</span><span class="st">"nan"</span> <span class="cf">else</span> np.nan)</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Months_Credit_History'</span>] <span class="op">=</span> pd.to_numeric(df1[<span class="st">'Months_Credit_History'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="88">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Months_Credit_History'</span>].isna(),<span class="st">'Months_Credit_History'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Months_Credit_History'</span>].transform(<span class="kw">lambda</span> x: x.bfill() <span class="op">-</span> <span class="dv">1</span> )</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Months_Credit_History'</span>].isna(),<span class="st">'Months_Credit_History'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Months_Credit_History'</span>].transform(<span class="kw">lambda</span> x: x.ffill() <span class="op">+</span> <span class="dv">1</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="89">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Years_Credit_History'</span>].isna(),<span class="st">'Years_Credit_History'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Years_Credit_History'</span>].transform(<span class="kw">lambda</span> x: x.bfill())</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Years_Credit_History'</span>].isna(),<span class="st">'Years_Credit_History'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Years_Credit_History'</span>].transform(<span class="kw">lambda</span> x: x.ffill())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="90">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>df1.loc[(df1[<span class="st">'Months_Credit_History'</span>]<span class="op">==</span> <span class="op">-</span><span class="dv">1</span>),<span class="st">'Years_Credit_History'</span>] <span class="op">=</span> df1[<span class="st">'Years_Credit_History'</span>] <span class="op">-</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="91">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>df1.loc[(df1[<span class="st">'Months_Credit_History'</span>]<span class="op">==</span><span class="dv">12</span>),<span class="st">'Years_Credit_History'</span>] <span class="op">=</span> df1[<span class="st">'Years_Credit_History'</span>] <span class="op">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="92">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>df1.loc[(df1[<span class="st">'Years_Credit_History'</span>]<span class="op">&lt;</span><span class="dv">0</span>),<span class="st">'Years_Credit_History'</span>] <span class="op">=</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="93">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>df1.loc[(df1[<span class="st">'Months_Credit_History'</span>]<span class="op">&lt;</span><span class="dv">0</span>),<span class="st">'Months_Credit_History'</span>] <span class="op">=</span> <span class="dv">11</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="94">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>df1.loc[(df1[<span class="st">'Months_Credit_History'</span>]<span class="op">&gt;</span><span class="dv">11</span>),<span class="st">'Months_Credit_History'</span>] <span class="op">=</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="95">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>df1[df1[<span class="st">'Customer_ID'</span>]<span class="op">==</span><span class="st">'CUS_0x95ee'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="95">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Customer_ID</th>
      <th>Month</th>
      <th>Age</th>
      <th>Occupation</th>
      <th>Annual_Income</th>
      <th>Monthly_Inhand_Salary</th>
      <th>Num_Bank_Accounts</th>
      <th>Num_Credit_Card</th>
      <th>Interest_Rate</th>
      <th>Num_of_Loan</th>
      <th>Delay_from_due_date</th>
      <th>Num_of_Delayed_Payment</th>
      <th>Changed_Credit_Limit</th>
      <th>Num_Credit_Inquiries</th>
      <th>Credit_Mix</th>
      <th>Outstanding_Debt</th>
      <th>Credit_Utilization_Ratio</th>
      <th>Credit_History_Age</th>
      <th>Payment_of_Min_Amount</th>
      <th>Total_EMI_per_month</th>
      <th>Amount_invested_monthly</th>
      <th>Payment_Behaviour</th>
      <th>Monthly_Balance</th>
      <th>Credit_Score</th>
      <th>loan_type_PersonalLoan</th>
      <th>loan_type_HomeEquityLoan</th>
      <th>loan_type_DebtConsolidationLoan</th>
      <th>loan_type_MortgageLoan</th>
      <th>loan_type_Credit-BuilderLoan</th>
      <th>loan_type_AutoLoan</th>
      <th>loan_type_PaydayLoan</th>
      <th>loan_type_NotSpecified</th>
      <th>loan_type_StudentLoan</th>
      <th>Years_Credit_History</th>
      <th>Months_Credit_History</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>40</th>
      <td>CUS_0x95ee</td>
      <td>January</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>73928.460</td>
      <td>5988.705</td>
      <td>4.000</td>
      <td>5</td>
      <td>8</td>
      <td>0</td>
      <td>12</td>
      <td>10.000</td>
      <td>10.140</td>
      <td>2.000</td>
      <td>Good</td>
      <td>548.200</td>
      <td>39.963</td>
      <td>nan</td>
      <td>No</td>
      <td>15015.000</td>
      <td>98.674</td>
      <td>High_spent_Large_value_payments</td>
      <td>740.196</td>
      <td>Good</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>31.000</td>
      <td>11.000</td>
    </tr>
    <tr>
      <th>41</th>
      <td>CUS_0x95ee</td>
      <td>February</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>73928.460</td>
      <td>5988.705</td>
      <td>4.000</td>
      <td>5</td>
      <td>8</td>
      <td>0</td>
      <td>8</td>
      <td>7.000</td>
      <td>10.140</td>
      <td>2.000</td>
      <td>Good</td>
      <td>548.200</td>
      <td>42.770</td>
      <td>32 Years and 0 Months</td>
      <td>NM</td>
      <td>0.000</td>
      <td>172.939</td>
      <td>Low_spent_Medium_value_payments</td>
      <td>705.931</td>
      <td>Good</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>32.000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>42</th>
      <td>CUS_0x95ee</td>
      <td>March</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>73928.460</td>
      <td>5988.705</td>
      <td>4.000</td>
      <td>5</td>
      <td>8</td>
      <td>0</td>
      <td>8</td>
      <td>7.000</td>
      <td>10.140</td>
      <td>2.000</td>
      <td>Good</td>
      <td>548.200</td>
      <td>40.712</td>
      <td>nan</td>
      <td>No</td>
      <td>0.000</td>
      <td>150.060</td>
      <td>High_spent_Medium_value_payments</td>
      <td>698.811</td>
      <td>Good</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>32.000</td>
      <td>1.000</td>
    </tr>
    <tr>
      <th>43</th>
      <td>CUS_0x95ee</td>
      <td>April</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>73928.460</td>
      <td>5988.705</td>
      <td>4.000</td>
      <td>5</td>
      <td>8</td>
      <td>0</td>
      <td>8</td>
      <td>7.000</td>
      <td>10.140</td>
      <td>2.000</td>
      <td>Good</td>
      <td>548.200</td>
      <td>30.202</td>
      <td>32 Years and 2 Months</td>
      <td>No</td>
      <td>0.000</td>
      <td>618.202</td>
      <td>Low_spent_Small_value_payments</td>
      <td>270.668</td>
      <td>Good</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>32.000</td>
      <td>2.000</td>
    </tr>
    <tr>
      <th>44</th>
      <td>CUS_0x95ee</td>
      <td>May</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>73928.460</td>
      <td>5988.705</td>
      <td>4.000</td>
      <td>5</td>
      <td>8</td>
      <td>0</td>
      <td>11</td>
      <td>7.000</td>
      <td>10.140</td>
      <td>2.000</td>
      <td>Good</td>
      <td>548.200</td>
      <td>26.333</td>
      <td>32 Years and 3 Months</td>
      <td>No</td>
      <td>0.000</td>
      <td>177.952</td>
      <td>Low_spent_Large_value_payments</td>
      <td>690.919</td>
      <td>Good</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>32.000</td>
      <td>3.000</td>
    </tr>
    <tr>
      <th>45</th>
      <td>CUS_0x95ee</td>
      <td>June</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>73928.460</td>
      <td>5988.705</td>
      <td>4.000</td>
      <td>5</td>
      <td>8</td>
      <td>0</td>
      <td>7</td>
      <td>7.000</td>
      <td>10.140</td>
      <td>2.000</td>
      <td>Good</td>
      <td>548.200</td>
      <td>35.275</td>
      <td>nan</td>
      <td>No</td>
      <td>15515.000</td>
      <td>235.790</td>
      <td>Low_spent_Large_value_payments</td>
      <td>633.080</td>
      <td>Good</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>32.000</td>
      <td>4.000</td>
    </tr>
    <tr>
      <th>46</th>
      <td>CUS_0x95ee</td>
      <td>July</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>73928.460</td>
      <td>5988.705</td>
      <td>4.000</td>
      <td>5</td>
      <td>8</td>
      <td>0</td>
      <td>8</td>
      <td>4.000</td>
      <td>9.140</td>
      <td>2.000</td>
      <td>Good</td>
      <td>548.200</td>
      <td>36.625</td>
      <td>32 Years and 5 Months</td>
      <td>No</td>
      <td>0.000</td>
      <td>348.509</td>
      <td>High_spent_Small_value_payments</td>
      <td>510.361</td>
      <td>Standard</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>32.000</td>
      <td>5.000</td>
    </tr>
    <tr>
      <th>47</th>
      <td>CUS_0x95ee</td>
      <td>August</td>
      <td>31</td>
      <td>Lawyer</td>
      <td>73928.460</td>
      <td>5988.705</td>
      <td>4.000</td>
      <td>5</td>
      <td>8</td>
      <td>0</td>
      <td>8</td>
      <td>7.000</td>
      <td>10.140</td>
      <td>2.000</td>
      <td>Good</td>
      <td>548.200</td>
      <td>31.581</td>
      <td>32 Years and 6 Months</td>
      <td>No</td>
      <td>0.000</td>
      <td>42.636</td>
      <td>Low_spent_Large_value_payments</td>
      <td>796.235</td>
      <td>Good</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>32.000</td>
      <td>6.000</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="96">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Months_Credit_History'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="96">
<pre><code>11.000    8821
5.000     8800
10.000    8780
2.000     8734
4.000     8728
3.000     8723
8.000     8688
9.000     8677
0.000     7561
1.000     7553
6.000     7489
7.000     7446
Name: Months_Credit_History, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="97">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Credit_History_Age'</span>] <span class="op">=</span> df1[<span class="st">'Years_Credit_History'</span>] <span class="op">+</span> (df1[<span class="st">'Months_Credit_History'</span>]<span class="op">/</span><span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="98">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> df1.drop([<span class="st">'Years_Credit_History'</span>,<span class="st">'Months_Credit_History'</span>],axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="99">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>df1.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="99">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Customer_ID</th>
      <th>Month</th>
      <th>Age</th>
      <th>Occupation</th>
      <th>Annual_Income</th>
      <th>Monthly_Inhand_Salary</th>
      <th>Num_Bank_Accounts</th>
      <th>Num_Credit_Card</th>
      <th>Interest_Rate</th>
      <th>Num_of_Loan</th>
      <th>Delay_from_due_date</th>
      <th>Num_of_Delayed_Payment</th>
      <th>Changed_Credit_Limit</th>
      <th>Num_Credit_Inquiries</th>
      <th>Credit_Mix</th>
      <th>Outstanding_Debt</th>
      <th>Credit_Utilization_Ratio</th>
      <th>Credit_History_Age</th>
      <th>Payment_of_Min_Amount</th>
      <th>Total_EMI_per_month</th>
      <th>Amount_invested_monthly</th>
      <th>Payment_Behaviour</th>
      <th>Monthly_Balance</th>
      <th>Credit_Score</th>
      <th>loan_type_PersonalLoan</th>
      <th>loan_type_HomeEquityLoan</th>
      <th>loan_type_DebtConsolidationLoan</th>
      <th>loan_type_MortgageLoan</th>
      <th>loan_type_Credit-BuilderLoan</th>
      <th>loan_type_AutoLoan</th>
      <th>loan_type_PaydayLoan</th>
      <th>loan_type_NotSpecified</th>
      <th>loan_type_StudentLoan</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CUS_0xd40</td>
      <td>January</td>
      <td>23</td>
      <td>Scientist</td>
      <td>19114.120</td>
      <td>1824.843</td>
      <td>3.000</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>3</td>
      <td>7.000</td>
      <td>11.270</td>
      <td>4.000</td>
      <td>Good</td>
      <td>809.980</td>
      <td>26.823</td>
      <td>22.083</td>
      <td>No</td>
      <td>49.575</td>
      <td>80.415</td>
      <td>High_spent_Small_value_payments</td>
      <td>312.494</td>
      <td>Good</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>CUS_0xd40</td>
      <td>February</td>
      <td>23</td>
      <td>Scientist</td>
      <td>19114.120</td>
      <td>1824.843</td>
      <td>3.000</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>-1</td>
      <td>6.000</td>
      <td>11.270</td>
      <td>4.000</td>
      <td>Good</td>
      <td>809.980</td>
      <td>31.945</td>
      <td>22.167</td>
      <td>No</td>
      <td>49.575</td>
      <td>118.280</td>
      <td>Low_spent_Large_value_payments</td>
      <td>284.629</td>
      <td>Good</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>CUS_0xd40</td>
      <td>March</td>
      <td>23</td>
      <td>Scientist</td>
      <td>19114.120</td>
      <td>1824.843</td>
      <td>3.000</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>3</td>
      <td>7.000</td>
      <td>10.270</td>
      <td>4.000</td>
      <td>Good</td>
      <td>809.980</td>
      <td>28.609</td>
      <td>22.250</td>
      <td>No</td>
      <td>49.575</td>
      <td>81.700</td>
      <td>Low_spent_Medium_value_payments</td>
      <td>331.210</td>
      <td>Good</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>CUS_0xd40</td>
      <td>April</td>
      <td>23</td>
      <td>Scientist</td>
      <td>19114.120</td>
      <td>1824.843</td>
      <td>3.000</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>5</td>
      <td>4.000</td>
      <td>6.270</td>
      <td>4.000</td>
      <td>Good</td>
      <td>809.980</td>
      <td>31.378</td>
      <td>22.333</td>
      <td>No</td>
      <td>49.575</td>
      <td>199.458</td>
      <td>Low_spent_Small_value_payments</td>
      <td>223.451</td>
      <td>Good</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>CUS_0xd40</td>
      <td>May</td>
      <td>23</td>
      <td>Scientist</td>
      <td>19114.120</td>
      <td>1824.843</td>
      <td>3.000</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>6</td>
      <td>6.000</td>
      <td>11.270</td>
      <td>4.000</td>
      <td>Good</td>
      <td>809.980</td>
      <td>24.797</td>
      <td>22.417</td>
      <td>No</td>
      <td>49.575</td>
      <td>41.420</td>
      <td>High_spent_Medium_value_payments</td>
      <td>341.489</td>
      <td>Good</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="tratando-a-coluna-amount_invested_monthly" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-amount_invested_monthly">Tratando a coluna Amount_invested_monthly</h3>
<div class="cell" data-execution_count="100">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Amount_invested_monthly'</span>].plot(kind<span class="op">=</span><span class="st">'hist'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="100">
<pre><code>&lt;AxesSubplot:ylabel='Frequency'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-102-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="101">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Amount_invested_monthly'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="101">
<pre><code>count   95521.000
mean      637.413
std      2043.319
min         0.000
25%        74.534
50%       135.926
75%       265.732
max     10000.000
Name: Amount_invested_monthly, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="102">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>df1[df1[<span class="st">'Amount_invested_monthly'</span>]<span class="op">&gt;</span><span class="dv">1000</span>][<span class="st">'Amount_invested_monthly'</span>].plot(kind<span class="op">=</span><span class="st">'hist'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="102">
<pre><code>&lt;AxesSubplot:ylabel='Frequency'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-104-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="103">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>df1[(df1[<span class="st">'Amount_invested_monthly'</span>]<span class="op">&gt;</span><span class="dv">1000</span>)<span class="op">&amp;</span>(df1[<span class="st">'Amount_invested_monthly'</span>]<span class="op">&lt;</span><span class="dv">10000</span>)][<span class="st">'Amount_invested_monthly'</span>].plot(kind<span class="op">=</span><span class="st">'hist'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="103">
<pre><code>&lt;AxesSubplot:ylabel='Frequency'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-105-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="104">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Amount_invested_monthly'</span>].value_counts().reset_index().sort_values(<span class="st">'index'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="104">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>index</th>
      <th>Amount_invested_monthly</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10000.000</td>
      <td>4305</td>
    </tr>
    <tr>
      <th>89358</th>
      <td>1977.326</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3714</th>
      <td>1961.219</td>
      <td>1</td>
    </tr>
    <tr>
      <th>11446</th>
      <td>1944.521</td>
      <td>1</td>
    </tr>
    <tr>
      <th>81139</th>
      <td>1941.237</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>88951</th>
      <td>10.054</td>
      <td>1</td>
    </tr>
    <tr>
      <th>28647</th>
      <td>10.037</td>
      <td>1</td>
    </tr>
    <tr>
      <th>20063</th>
      <td>10.011</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5349</th>
      <td>10.010</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.000</td>
      <td>169</td>
    </tr>
  </tbody>
</table>
<p>91049 rows × 2 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="105">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Amount_invested_monthly'</span>]<span class="op">==</span><span class="dv">10000</span>,<span class="st">'Amount_invested_monthly'</span>] <span class="op">=</span> np.nan</span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Amount_invested_monthly'</span>].isna(),<span class="st">'Amount_invested_monthly'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Amount_invested_monthly'</span>].transform(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Amount_invested_monthly'</span>].plot(kind<span class="op">=</span><span class="st">'hist'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="106">
<pre><code>&lt;AxesSubplot:ylabel='Frequency'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-108-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="trantando-a-coluna-payment_of_min_amount" class="level3">
<h3 class="anchored" data-anchor-id="trantando-a-coluna-payment_of_min_amount">Trantando a coluna Payment_of_Min_Amount</h3>
<div class="cell" data-execution_count="107">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Payment_of_Min_Amount'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="107">
<pre><code>Yes    52326
No     35667
NM     12007
Name: Payment_of_Min_Amount, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="108">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Payment_of_Min_Amount'</span>] <span class="op">==</span> <span class="st">'NM'</span>,<span class="st">'Payment_of_Min_Amount'</span>] <span class="op">=</span> <span class="st">''</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Payment_of_Min_Amount'</span>]<span class="op">==</span><span class="st">''</span>,<span class="st">'Payment_of_Min_Amount'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Payment_of_Min_Amount'</span>].transform(calcular_moda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="109">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Payment_of_Min_Amount'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="109">
<pre><code>Yes    59432
No     40568
Name: Payment_of_Min_Amount, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="110">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Payment_of_Min_Amount'</span>]<span class="op">==</span><span class="st">'Yes'</span>,<span class="st">'Payment_of_Min_Amount'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Payment_of_Min_Amount'</span>]<span class="op">==</span><span class="st">'No'</span>,<span class="st">'Payment_of_Min_Amount'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Payment_of_Min_Amount'</span>] <span class="op">=</span> df1[<span class="st">'Payment_of_Min_Amount'</span>].astype(<span class="bu">int</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="111">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Payment_of_Min_Amount'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="111">
<pre><code>&lt;AxesSubplot:xlabel='Payment_of_Min_Amount', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-113-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="tratando-a-coluna-total_emi_per_month" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-total_emi_per_month">Tratando a coluna Total_EMI_per_month</h3>
<div class="cell" data-execution_count="112">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>hist(df1[<span class="st">'Total_EMI_per_month'</span>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-114-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="113">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(df1[<span class="st">'Total_EMI_per_month'</span>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\seaborn\_decorators.py:36: FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-115-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>Criaremos uma coluna zscore para entender os outliers presentes na base por grupo, dessa forma podemos tratar esses valores que foram inputados de forma errada.</p>
<div class="cell" data-execution_count="114">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'zscore'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Total_EMI_per_month'</span>].transform(<span class="kw">lambda</span> x: zscore(x,axis<span class="op">=</span><span class="dv">0</span>,nan_policy<span class="op">=</span><span class="st">'omit'</span>))</span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'zscore'</span>].isna(),<span class="st">'zscore'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb175-3"><a href="#cb175-3" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'zscore'</span>]<span class="op">&gt;=</span><span class="fl">1.3</span>,<span class="st">'Total_EMI_per_month'</span>] <span class="op">=</span> np.nan</span>
<span id="cb175-4"><a href="#cb175-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-5"><a href="#cb175-5" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="bu">max</span>(df1[<span class="st">'zscore'</span>]) <span class="op">&gt;=</span> <span class="fl">1.3</span>:</span>
<span id="cb175-6"><a href="#cb175-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb175-7"><a href="#cb175-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">max</span>(df1[<span class="st">'zscore'</span>]))</span>
<span id="cb175-8"><a href="#cb175-8" aria-hidden="true" tabindex="-1"></a>    df1[<span class="st">'zscore'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Total_EMI_per_month'</span>].transform(<span class="kw">lambda</span> x: zscore(x,axis<span class="op">=</span><span class="dv">0</span>,nan_policy<span class="op">=</span><span class="st">'omit'</span>))</span>
<span id="cb175-9"><a href="#cb175-9" aria-hidden="true" tabindex="-1"></a>    df1.loc[df1[<span class="st">'zscore'</span>].isna(),<span class="st">'zscore'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb175-10"><a href="#cb175-10" aria-hidden="true" tabindex="-1"></a>    df1.loc[df1[<span class="st">'zscore'</span>]<span class="op">&gt;=</span><span class="fl">1.3</span>,<span class="st">'Total_EMI_per_month'</span>] <span class="op">=</span> np.nan</span>
<span id="cb175-11"><a href="#cb175-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">max</span>(df1[<span class="st">'zscore'</span>]))</span>
<span id="cb175-12"><a href="#cb175-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-13"><a href="#cb175-13" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Total_EMI_per_month'</span>].isna(),<span class="st">'Total_EMI_per_month'</span>] <span class="op">=</span>  df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Total_EMI_per_month'</span>].transform(mean)</span>
<span id="cb175-14"><a href="#cb175-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-15"><a href="#cb175-15" aria-hidden="true" tabindex="-1"></a>df1.drop(<span class="st">'zscore'</span>,axis<span class="op">=</span><span class="dv">1</span>,inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2.6457513110645916
2.4494897427831788
2.4494897427831788
2.2360679774997902
2.2360679774997902
2.0
2.0
1.2909944487358074</code></pre>
</div>
</div>
<div class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>hist(df1[<span class="st">'Total_EMI_per_month'</span>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-117-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(df1[<span class="st">'Total_EMI_per_month'</span>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\seaborn\_decorators.py:36: FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-118-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="tratando-a-coluna-monthly_balance" class="level3">
<h3 class="anchored" data-anchor-id="tratando-a-coluna-monthly_balance">Tratando a Coluna Monthly_Balance</h3>
<div class="cell" data-execution_count="117">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Monthly_Balance'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="117">
<pre><code>count                         98800.000
mean        30364372469635625254912.000
std       3181295008379834214645760.000
min                               0.008
25%                             270.114
50%                             336.742
75%                             470.332
max     333333333333333314856026112.000
Name: Monthly_Balance, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="118">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>)</span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(df1[<span class="st">'Monthly_Balance'</span>])</span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a>hist(df1[<span class="st">'Monthly_Balance'</span>])</span>
<span id="cb182-6"><a href="#cb182-6" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\seaborn\_decorators.py:36: FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-120-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="119">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Monthly_Balance'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>).to_frame().sort_index(ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="119">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Monthly_Balance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>333333333333333314856026112.000</th>
      <td>9</td>
    </tr>
    <tr>
      <th>1602.041</th>
      <td>1</td>
    </tr>
    <tr>
      <th>1576.289</th>
      <td>1</td>
    </tr>
    <tr>
      <th>1567.208</th>
      <td>1</td>
    </tr>
    <tr>
      <th>1566.613</th>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>0.131</th>
      <td>1</td>
    </tr>
    <tr>
      <th>0.095</th>
      <td>1</td>
    </tr>
    <tr>
      <th>0.089</th>
      <td>1</td>
    </tr>
    <tr>
      <th>0.008</th>
      <td>1</td>
    </tr>
    <tr>
      <th>NaN</th>
      <td>1200</td>
    </tr>
  </tbody>
</table>
<p>98793 rows × 1 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="120">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Monthly_Balance'</span>]<span class="op">&gt;</span><span class="dv">2000</span>,<span class="st">'Monthly_Balance'</span>] <span class="op">=</span> np.nan</span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a>df1.loc[df1[<span class="st">'Monthly_Balance'</span>].isna(),<span class="st">'Monthly_Balance'</span>] <span class="op">=</span> df1.groupby(<span class="st">'Customer_ID'</span>)[<span class="st">'Monthly_Balance'</span>].transform(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="121">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Monthly_Balance'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="121">
<pre><code>count   100000.000
mean       403.120
std        214.015
min          0.008
25%        270.189
50%        337.114
75%        471.571
max       1602.041
Name: Monthly_Balance, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Monthly_Balance'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="122">
<pre><code>count   100000.000
mean       403.120
std        214.015
min          0.008
25%        270.189
50%        337.114
75%        471.571
max       1602.041
Name: Monthly_Balance, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="123">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>)</span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(df1[<span class="st">'Monthly_Balance'</span>])</span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-4"><a href="#cb190-4" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb190-5"><a href="#cb190-5" aria-hidden="true" tabindex="-1"></a>sns.histplot(df1[<span class="st">'Monthly_Balance'</span>])</span>
<span id="cb190-6"><a href="#cb190-6" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\seaborn\_decorators.py:36: FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-125-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a>df1.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="124">
<pre><code>Index(['Customer_ID', 'Month', 'Age', 'Occupation', 'Annual_Income',
       'Monthly_Inhand_Salary', 'Num_Bank_Accounts', 'Num_Credit_Card',
       'Interest_Rate', 'Num_of_Loan', 'Delay_from_due_date',
       'Num_of_Delayed_Payment', 'Changed_Credit_Limit',
       'Num_Credit_Inquiries', 'Credit_Mix', 'Outstanding_Debt',
       'Credit_Utilization_Ratio', 'Credit_History_Age',
       'Payment_of_Min_Amount', 'Total_EMI_per_month',
       'Amount_invested_monthly', 'Payment_Behaviour', 'Monthly_Balance',
       'Credit_Score', 'loan_type_PersonalLoan', 'loan_type_HomeEquityLoan',
       'loan_type_DebtConsolidationLoan', 'loan_type_MortgageLoan',
       'loan_type_Credit-BuilderLoan', 'loan_type_AutoLoan',
       'loan_type_PaydayLoan', 'loan_type_NotSpecified',
       'loan_type_StudentLoan'],
      dtype='object')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">'Month'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="125">
<pre><code>January     12500
February    12500
March       12500
April       12500
May         12500
June        12500
July        12500
August      12500
Name: Month, dtype: int64</code></pre>
</div>
</div>
</section>
</section>
<section id="estatísticas-descritivas" class="level2">
<h2 class="anchored" data-anchor-id="estatísticas-descritivas">Estatísticas Descritivas</h2>
<div class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a>num_attributes <span class="op">=</span> df1.select_dtypes(include<span class="op">=</span>[<span class="st">'int'</span>,<span class="st">'float'</span>])</span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a>cat_attributes <span class="op">=</span> df1.select_dtypes(exclude<span class="op">=</span>[<span class="st">'float'</span>,<span class="st">'int'</span>,<span class="st">'datetime64[ns]'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="127">
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Medidas de tendência central</span></span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a>ct1 <span class="op">=</span> pd.DataFrame(num_attributes.<span class="bu">apply</span>(np.mean)).T</span>
<span id="cb197-3"><a href="#cb197-3" aria-hidden="true" tabindex="-1"></a>ct2 <span class="op">=</span> pd.DataFrame(num_attributes.<span class="bu">apply</span>(np.median)).T</span>
<span id="cb197-4"><a href="#cb197-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-5"><a href="#cb197-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Medidas de dispersão</span></span>
<span id="cb197-6"><a href="#cb197-6" aria-hidden="true" tabindex="-1"></a>dp1 <span class="op">=</span> pd.DataFrame(num_attributes.<span class="bu">apply</span>(np.std)).T</span>
<span id="cb197-7"><a href="#cb197-7" aria-hidden="true" tabindex="-1"></a>dp2 <span class="op">=</span> pd.DataFrame(num_attributes.<span class="bu">apply</span>(<span class="bu">min</span>)).T</span>
<span id="cb197-8"><a href="#cb197-8" aria-hidden="true" tabindex="-1"></a>dp3 <span class="op">=</span> pd.DataFrame(num_attributes.<span class="bu">apply</span>(<span class="bu">max</span>)).T</span>
<span id="cb197-9"><a href="#cb197-9" aria-hidden="true" tabindex="-1"></a>dp4 <span class="op">=</span> pd.DataFrame(num_attributes.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.<span class="bu">max</span>() <span class="op">-</span> x.<span class="bu">min</span>())).T</span>
<span id="cb197-10"><a href="#cb197-10" aria-hidden="true" tabindex="-1"></a>dp5 <span class="op">=</span> pd.DataFrame(num_attributes.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.skew())).T</span>
<span id="cb197-11"><a href="#cb197-11" aria-hidden="true" tabindex="-1"></a>dp6 <span class="op">=</span> pd.DataFrame(num_attributes.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.kurtosis())).T</span>
<span id="cb197-12"><a href="#cb197-12" aria-hidden="true" tabindex="-1"></a>dp7 <span class="op">=</span> pd.DataFrame(num_attributes.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.quantile(<span class="fl">0.25</span>))).T</span>
<span id="cb197-13"><a href="#cb197-13" aria-hidden="true" tabindex="-1"></a>dp8 <span class="op">=</span> pd.DataFrame(num_attributes.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.quantile(<span class="fl">0.75</span>))).T</span>
<span id="cb197-14"><a href="#cb197-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-15"><a href="#cb197-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Concatenando as medidas</span></span>
<span id="cb197-16"><a href="#cb197-16" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> pd.concat([ct1,ct2,dp1,dp2,dp3,dp4,dp5,dp6,dp7,dp8]).T.reset_index()</span>
<span id="cb197-17"><a href="#cb197-17" aria-hidden="true" tabindex="-1"></a>m.columns <span class="op">=</span> [<span class="st">"Variável"</span>,<span class="st">"média"</span>,<span class="st">"mediana"</span>,<span class="st">"Desvio Padrão"</span>,<span class="st">"Mínimo"</span>,<span class="st">"Máximo"</span>,<span class="st">"Amplitude"</span>,<span class="st">"Skewness"</span>,<span class="st">"Kurtosis"</span>,<span class="st">"1st quartile"</span>,<span class="st">"3rd quartile"</span>]</span>
<span id="cb197-18"><a href="#cb197-18" aria-hidden="true" tabindex="-1"></a>m[<span class="st">'coeficiente variacao'</span>] <span class="op">=</span> m[<span class="st">'Desvio Padrão'</span>]<span class="op">/</span>m[<span class="st">'média'</span>] <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb197-19"><a href="#cb197-19" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="127">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Variável</th>
      <th>média</th>
      <th>mediana</th>
      <th>Desvio Padrão</th>
      <th>Mínimo</th>
      <th>Máximo</th>
      <th>Amplitude</th>
      <th>Skewness</th>
      <th>Kurtosis</th>
      <th>1st quartile</th>
      <th>3rd quartile</th>
      <th>coeficiente variacao</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Age</td>
      <td>33.275</td>
      <td>33.000</td>
      <td>10.764</td>
      <td>14.000</td>
      <td>56.000</td>
      <td>42.000</td>
      <td>0.158</td>
      <td>-0.927</td>
      <td>24.000</td>
      <td>42.000</td>
      <td>32.350</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Annual_Income</td>
      <td>50505.123</td>
      <td>36999.705</td>
      <td>38299.231</td>
      <td>7005.930</td>
      <td>179987.280</td>
      <td>172981.350</td>
      <td>1.130</td>
      <td>0.608</td>
      <td>19342.972</td>
      <td>71683.470</td>
      <td>75.832</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Monthly_Inhand_Salary</td>
      <td>4199.449</td>
      <td>3095.942</td>
      <td>3188.308</td>
      <td>303.645</td>
      <td>15204.633</td>
      <td>14900.988</td>
      <td>1.129</td>
      <td>0.619</td>
      <td>1628.240</td>
      <td>5962.530</td>
      <td>75.922</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Num_Bank_Accounts</td>
      <td>5.370</td>
      <td>5.000</td>
      <td>2.593</td>
      <td>0.000</td>
      <td>10.000</td>
      <td>10.000</td>
      <td>-0.190</td>
      <td>-0.692</td>
      <td>3.000</td>
      <td>7.000</td>
      <td>48.279</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Num_Credit_Card</td>
      <td>5.535</td>
      <td>5.000</td>
      <td>2.067</td>
      <td>1.000</td>
      <td>11.000</td>
      <td>10.000</td>
      <td>0.227</td>
      <td>-0.330</td>
      <td>4.000</td>
      <td>7.000</td>
      <td>37.341</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Interest_Rate</td>
      <td>14.532</td>
      <td>13.000</td>
      <td>8.741</td>
      <td>1.000</td>
      <td>34.000</td>
      <td>33.000</td>
      <td>0.496</td>
      <td>-0.682</td>
      <td>7.000</td>
      <td>20.000</td>
      <td>60.152</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Num_of_Loan</td>
      <td>3.533</td>
      <td>3.000</td>
      <td>2.446</td>
      <td>0.000</td>
      <td>9.000</td>
      <td>9.000</td>
      <td>0.446</td>
      <td>-0.615</td>
      <td>2.000</td>
      <td>5.000</td>
      <td>69.245</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Delay_from_due_date</td>
      <td>21.069</td>
      <td>18.000</td>
      <td>14.860</td>
      <td>-5.000</td>
      <td>67.000</td>
      <td>72.000</td>
      <td>0.966</td>
      <td>0.348</td>
      <td>10.000</td>
      <td>28.000</td>
      <td>70.531</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Num_of_Delayed_Payment</td>
      <td>13.339</td>
      <td>14.000</td>
      <td>6.254</td>
      <td>0.000</td>
      <td>28.000</td>
      <td>28.000</td>
      <td>-0.179</td>
      <td>-0.682</td>
      <td>9.000</td>
      <td>18.000</td>
      <td>46.889</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Changed_Credit_Limit</td>
      <td>10.465</td>
      <td>9.400</td>
      <td>6.666</td>
      <td>0.000</td>
      <td>36.970</td>
      <td>36.970</td>
      <td>0.729</td>
      <td>0.101</td>
      <td>5.350</td>
      <td>14.850</td>
      <td>63.697</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Num_Credit_Inquiries</td>
      <td>5.779</td>
      <td>5.000</td>
      <td>3.862</td>
      <td>0.000</td>
      <td>29.000</td>
      <td>29.000</td>
      <td>0.410</td>
      <td>-0.598</td>
      <td>3.000</td>
      <td>8.000</td>
      <td>66.837</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Outstanding_Debt</td>
      <td>1426.220</td>
      <td>1166.155</td>
      <td>1155.123</td>
      <td>0.230</td>
      <td>4998.070</td>
      <td>4997.840</td>
      <td>1.208</td>
      <td>0.905</td>
      <td>566.072</td>
      <td>1945.963</td>
      <td>80.992</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Credit_Utilization_Ratio</td>
      <td>32.285</td>
      <td>32.306</td>
      <td>5.117</td>
      <td>20.000</td>
      <td>50.000</td>
      <td>30.000</td>
      <td>0.029</td>
      <td>-0.944</td>
      <td>28.053</td>
      <td>36.497</td>
      <td>15.849</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Credit_History_Age</td>
      <td>18.434</td>
      <td>18.250</td>
      <td>8.307</td>
      <td>0.083</td>
      <td>33.667</td>
      <td>33.583</td>
      <td>-0.049</td>
      <td>-0.902</td>
      <td>12.000</td>
      <td>25.167</td>
      <td>45.061</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Payment_of_Min_Amount</td>
      <td>0.594</td>
      <td>1.000</td>
      <td>0.491</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>1.000</td>
      <td>-0.384</td>
      <td>-1.852</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>82.619</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Total_EMI_per_month</td>
      <td>105.929</td>
      <td>66.210</td>
      <td>126.403</td>
      <td>0.000</td>
      <td>1779.103</td>
      <td>1779.103</td>
      <td>3.802</td>
      <td>27.763</td>
      <td>29.058</td>
      <td>145.930</td>
      <td>119.328</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Amount_invested_monthly</td>
      <td>195.752</td>
      <td>131.209</td>
      <td>195.115</td>
      <td>0.000</td>
      <td>1977.326</td>
      <td>1977.326</td>
      <td>2.548</td>
      <td>8.852</td>
      <td>74.600</td>
      <td>239.480</td>
      <td>99.675</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Monthly_Balance</td>
      <td>403.120</td>
      <td>337.114</td>
      <td>214.013</td>
      <td>0.008</td>
      <td>1602.041</td>
      <td>1602.033</td>
      <td>1.587</td>
      <td>2.911</td>
      <td>270.189</td>
      <td>471.571</td>
      <td>53.089</td>
    </tr>
    <tr>
      <th>18</th>
      <td>loan_type_PersonalLoan</td>
      <td>0.311</td>
      <td>0.000</td>
      <td>0.463</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>1.000</td>
      <td>0.816</td>
      <td>-1.334</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>148.829</td>
    </tr>
    <tr>
      <th>19</th>
      <td>loan_type_HomeEquityLoan</td>
      <td>0.314</td>
      <td>0.000</td>
      <td>0.464</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>1.000</td>
      <td>0.802</td>
      <td>-1.358</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>147.808</td>
    </tr>
    <tr>
      <th>20</th>
      <td>loan_type_DebtConsolidationLoan</td>
      <td>0.310</td>
      <td>0.000</td>
      <td>0.463</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>1.000</td>
      <td>0.820</td>
      <td>-1.328</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>149.052</td>
    </tr>
    <tr>
      <th>21</th>
      <td>loan_type_MortgageLoan</td>
      <td>0.314</td>
      <td>0.000</td>
      <td>0.464</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>1.000</td>
      <td>0.804</td>
      <td>-1.354</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>147.945</td>
    </tr>
    <tr>
      <th>22</th>
      <td>loan_type_Credit-BuilderLoan</td>
      <td>0.317</td>
      <td>0.000</td>
      <td>0.465</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>1.000</td>
      <td>0.785</td>
      <td>-1.383</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>146.690</td>
    </tr>
    <tr>
      <th>23</th>
      <td>loan_type_AutoLoan</td>
      <td>0.306</td>
      <td>0.000</td>
      <td>0.461</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>1.000</td>
      <td>0.844</td>
      <td>-1.288</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>150.740</td>
    </tr>
    <tr>
      <th>24</th>
      <td>loan_type_PaydayLoan</td>
      <td>0.319</td>
      <td>0.000</td>
      <td>0.466</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>1.000</td>
      <td>0.775</td>
      <td>-1.400</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>145.962</td>
    </tr>
    <tr>
      <th>25</th>
      <td>loan_type_NotSpecified</td>
      <td>0.317</td>
      <td>0.000</td>
      <td>0.465</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>1.000</td>
      <td>0.788</td>
      <td>-1.380</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>146.852</td>
    </tr>
    <tr>
      <th>26</th>
      <td>loan_type_StudentLoan</td>
      <td>0.310</td>
      <td>0.000</td>
      <td>0.463</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>1.000</td>
      <td>0.820</td>
      <td>-1.328</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>149.052</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>params <span class="op">=</span> {<span class="st">'axes.titlesize'</span>:<span class="st">'20'</span>,</span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a>          <span class="st">'xtick.labelsize'</span>:<span class="st">'16'</span>,</span>
<span id="cb198-3"><a href="#cb198-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">'ytick.labelsize'</span>:<span class="st">'16'</span>}</span>
<span id="cb198-4"><a href="#cb198-4" aria-hidden="true" tabindex="-1"></a>matplotlib.rcParams.update(params)</span>
<span id="cb198-5"><a href="#cb198-5" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(font_scale<span class="op">=</span><span class="fl">1.6</span>) </span>
<span id="cb198-6"><a href="#cb198-6" aria-hidden="true" tabindex="-1"></a>sns.set_palette(<span class="st">'PuBu_r'</span>)</span>
<span id="cb198-7"><a href="#cb198-7" aria-hidden="true" tabindex="-1"></a>num_attributes.hist(ec<span class="op">=</span><span class="st">"k"</span>)</span>
<span id="cb198-8"><a href="#cb198-8" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-130-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="129">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(x<span class="op">=</span>df1[<span class="st">'Credit_Score'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="129">
<pre><code>&lt;AxesSubplot:xlabel='Credit_Score', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-131-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>df1.groupby(<span class="st">'Credit_Score'</span>)[<span class="st">'Customer_ID'</span>].count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="130">
<pre><code>Credit_Score
Good        17828
Poor        28998
Standard    53174
Name: Customer_ID, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a>aux1 <span class="op">=</span> df1.groupby(<span class="st">'Credit_Score'</span>).mean().reset_index().sort_values(<span class="st">'Age'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb203-3"><a href="#cb203-3" aria-hidden="true" tabindex="-1"></a>colunas <span class="op">=</span> [<span class="st">'Age'</span>, <span class="st">'Annual_Income'</span>, <span class="st">'Monthly_Inhand_Salary'</span>,</span>
<span id="cb203-4"><a href="#cb203-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Num_Bank_Accounts'</span>, <span class="st">'Num_Credit_Card'</span>, <span class="st">'Interest_Rate'</span>, <span class="st">'Num_of_Loan'</span>,</span>
<span id="cb203-5"><a href="#cb203-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Delay_from_due_date'</span>, <span class="st">'Num_of_Delayed_Payment'</span>, <span class="st">'Changed_Credit_Limit'</span>,</span>
<span id="cb203-6"><a href="#cb203-6" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Num_Credit_Inquiries'</span>, <span class="st">'Outstanding_Debt'</span>, <span class="st">'Credit_Utilization_Ratio'</span>,</span>
<span id="cb203-7"><a href="#cb203-7" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Credit_History_Age'</span>, <span class="st">'Payment_of_Min_Amount'</span>, <span class="st">'Total_EMI_per_month'</span>,</span>
<span id="cb203-8"><a href="#cb203-8" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Amount_invested_monthly'</span>, <span class="st">'Monthly_Balance'</span>]</span>
<span id="cb203-9"><a href="#cb203-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb203-10"><a href="#cb203-10" aria-hidden="true" tabindex="-1"></a>figura <span class="op">=</span> plt.figure()</span>
<span id="cb203-11"><a href="#cb203-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb203-12"><a href="#cb203-12" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(font_scale<span class="op">=</span><span class="fl">1.6</span>) </span>
<span id="cb203-13"><a href="#cb203-13" aria-hidden="true" tabindex="-1"></a>sns.set_palette(<span class="st">'PuBu_r'</span>)</span>
<span id="cb203-14"><a href="#cb203-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb203-15"><a href="#cb203-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i,var <span class="kw">in</span> <span class="bu">enumerate</span>(colunas):</span>
<span id="cb203-16"><a href="#cb203-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb203-17"><a href="#cb203-17" aria-hidden="true" tabindex="-1"></a>    figura.add_subplot(<span class="dv">3</span>,<span class="dv">6</span>,i<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb203-18"><a href="#cb203-18" aria-hidden="true" tabindex="-1"></a>    sns.barplot(x<span class="op">=</span><span class="st">"Credit_Score"</span>,y<span class="op">=</span><span class="ss">f'</span><span class="sc">{</span>var<span class="sc">}</span><span class="ss">'</span>,data<span class="op">=</span>aux1)</span>
<span id="cb203-19"><a href="#cb203-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb203-20"><a href="#cb203-20" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(<span class="st">"Credit_Score"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)  <span class="co"># Altere o tamanho da fonte do rótulo x conforme necessário</span></span>
<span id="cb203-21"><a href="#cb203-21" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="ss">f'</span><span class="sc">{</span>var<span class="sc">}</span><span class="ss">'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)  <span class="co"># Altere o tamanho da fonte do rótulo y conforme necessário</span></span>
<span id="cb203-22"><a href="#cb203-22" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb203-23"><a href="#cb203-23" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb203-24"><a href="#cb203-24" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-133-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="132">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a>colunas <span class="op">=</span> [<span class="st">'Age'</span>, <span class="st">'Annual_Income'</span>, <span class="st">'Monthly_Inhand_Salary'</span>,</span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Num_Bank_Accounts'</span>, <span class="st">'Num_Credit_Card'</span>, <span class="st">'Interest_Rate'</span>, <span class="st">'Num_of_Loan'</span>,</span>
<span id="cb204-3"><a href="#cb204-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Delay_from_due_date'</span>, <span class="st">'Num_of_Delayed_Payment'</span>, <span class="st">'Changed_Credit_Limit'</span>,</span>
<span id="cb204-4"><a href="#cb204-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Num_Credit_Inquiries'</span>, <span class="st">'Outstanding_Debt'</span>, <span class="st">'Credit_Utilization_Ratio'</span>,</span>
<span id="cb204-5"><a href="#cb204-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Credit_History_Age'</span>, <span class="st">'Payment_of_Min_Amount'</span>, <span class="st">'Total_EMI_per_month'</span>,</span>
<span id="cb204-6"><a href="#cb204-6" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Amount_invested_monthly'</span>, <span class="st">'Monthly_Balance'</span>]</span>
<span id="cb204-7"><a href="#cb204-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-8"><a href="#cb204-8" aria-hidden="true" tabindex="-1"></a>figura <span class="op">=</span> plt.figure()</span>
<span id="cb204-9"><a href="#cb204-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-10"><a href="#cb204-10" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(font_scale<span class="op">=</span><span class="fl">1.6</span>) </span>
<span id="cb204-11"><a href="#cb204-11" aria-hidden="true" tabindex="-1"></a>sns.set_palette(<span class="st">'PuBu_r'</span>)</span>
<span id="cb204-12"><a href="#cb204-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-13"><a href="#cb204-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i,var <span class="kw">in</span> <span class="bu">enumerate</span>(colunas):</span>
<span id="cb204-14"><a href="#cb204-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb204-15"><a href="#cb204-15" aria-hidden="true" tabindex="-1"></a>    figura.add_subplot(<span class="dv">3</span>,<span class="dv">6</span>,i<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb204-16"><a href="#cb204-16" aria-hidden="true" tabindex="-1"></a>    sns.boxplot(x<span class="op">=</span><span class="st">"Credit_Score"</span>,y<span class="op">=</span><span class="ss">f'</span><span class="sc">{</span>var<span class="sc">}</span><span class="ss">'</span>,data<span class="op">=</span>df1)</span>
<span id="cb204-17"><a href="#cb204-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb204-18"><a href="#cb204-18" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(<span class="st">"Credit_Score"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)  <span class="co"># Altere o tamanho da fonte do rótulo x conforme necessário</span></span>
<span id="cb204-19"><a href="#cb204-19" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="ss">f'</span><span class="sc">{</span>var<span class="sc">}</span><span class="ss">'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)  <span class="co"># Altere o tamanho da fonte do rótulo y conforme necessário</span></span>
<span id="cb204-20"><a href="#cb204-20" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb204-21"><a href="#cb204-21" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb204-22"><a href="#cb204-22" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-134-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="133">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>aux2 <span class="op">=</span> df1.groupby(<span class="st">'Credit_Score'</span>)[<span class="st">'loan_type_PaydayLoan'</span>,</span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_PersonalLoan'</span>, <span class="st">'loan_type_HomeEquityLoan'</span>,</span>
<span id="cb205-3"><a href="#cb205-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_MortgageLoan'</span>, <span class="st">'loan_type_AutoLoan'</span>,</span>
<span id="cb205-4"><a href="#cb205-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_Credit-BuilderLoan'</span>, <span class="st">'loan_type_StudentLoan'</span>,</span>
<span id="cb205-5"><a href="#cb205-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_NotSpecified'</span>, <span class="st">'loan_type_DebtConsolidationLoan'</span>].<span class="bu">sum</span>().reset_index()</span>
<span id="cb205-6"><a href="#cb205-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-7"><a href="#cb205-7" aria-hidden="true" tabindex="-1"></a>colunas <span class="op">=</span> [<span class="st">'loan_type_PaydayLoan'</span>,</span>
<span id="cb205-8"><a href="#cb205-8" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_PersonalLoan'</span>, <span class="st">'loan_type_HomeEquityLoan'</span>,</span>
<span id="cb205-9"><a href="#cb205-9" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_MortgageLoan'</span>, <span class="st">'loan_type_AutoLoan'</span>,</span>
<span id="cb205-10"><a href="#cb205-10" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_Credit-BuilderLoan'</span>, <span class="st">'loan_type_StudentLoan'</span>,</span>
<span id="cb205-11"><a href="#cb205-11" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_NotSpecified'</span>, <span class="st">'loan_type_DebtConsolidationLoan'</span>]</span>
<span id="cb205-12"><a href="#cb205-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-13"><a href="#cb205-13" aria-hidden="true" tabindex="-1"></a>figura <span class="op">=</span> plt.figure()</span>
<span id="cb205-14"><a href="#cb205-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-15"><a href="#cb205-15" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(font_scale<span class="op">=</span><span class="fl">1.6</span>) </span>
<span id="cb205-16"><a href="#cb205-16" aria-hidden="true" tabindex="-1"></a>sns.set_palette(<span class="st">'PuBu_r'</span>)</span>
<span id="cb205-17"><a href="#cb205-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-18"><a href="#cb205-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i,var <span class="kw">in</span> <span class="bu">enumerate</span>(colunas):</span>
<span id="cb205-19"><a href="#cb205-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb205-20"><a href="#cb205-20" aria-hidden="true" tabindex="-1"></a>    figura.add_subplot(<span class="dv">3</span>,<span class="dv">3</span>,i<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb205-21"><a href="#cb205-21" aria-hidden="true" tabindex="-1"></a>    sns.barplot(x<span class="op">=</span><span class="st">"Credit_Score"</span>,y<span class="op">=</span><span class="ss">f'</span><span class="sc">{</span>var<span class="sc">}</span><span class="ss">'</span>,data<span class="op">=</span>aux2)</span>
<span id="cb205-22"><a href="#cb205-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb205-23"><a href="#cb205-23" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(<span class="st">"Credit_Score"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)  <span class="co"># Altere o tamanho da fonte do rótulo x conforme necessário</span></span>
<span id="cb205-24"><a href="#cb205-24" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="ss">f'</span><span class="sc">{</span>var<span class="sc">}</span><span class="ss">'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)  <span class="co"># Altere o tamanho da fonte do rótulo y conforme necessário</span></span>
<span id="cb205-25"><a href="#cb205-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb205-26"><a href="#cb205-26" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb205-27"><a href="#cb205-27" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\everton.bandeira\AppData\Local\Temp\ipykernel_14836\2455932117.py:1: FutureWarning: Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.
  aux2 = df1.groupby('Credit_Score')['loan_type_PaydayLoan',</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-135-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="134">
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a>aux3 <span class="op">=</span> df1[df1[<span class="st">'Credit_Score'</span>]<span class="op">==</span><span class="st">"Good"</span>].groupby(<span class="st">'Credit_Score'</span>)[<span class="st">'loan_type_PaydayLoan'</span>,</span>
<span id="cb207-2"><a href="#cb207-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_PersonalLoan'</span>, <span class="st">'loan_type_HomeEquityLoan'</span>,</span>
<span id="cb207-3"><a href="#cb207-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_MortgageLoan'</span>, <span class="st">'loan_type_AutoLoan'</span>,</span>
<span id="cb207-4"><a href="#cb207-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_Credit-BuilderLoan'</span>, <span class="st">'loan_type_StudentLoan'</span>,</span>
<span id="cb207-5"><a href="#cb207-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_NotSpecified'</span>, <span class="st">'loan_type_DebtConsolidationLoan'</span>].<span class="bu">sum</span>().T.reset_index()</span>
<span id="cb207-6"><a href="#cb207-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-7"><a href="#cb207-7" aria-hidden="true" tabindex="-1"></a>aux3 <span class="op">=</span> aux3.sort_values(<span class="st">'Good'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb207-8"><a href="#cb207-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-9"><a href="#cb207-9" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span><span class="st">"index"</span>,y<span class="op">=</span><span class="st">"Good"</span>,data<span class="op">=</span>aux3,palette<span class="op">=</span><span class="st">'PuBu_d'</span>)</span>
<span id="cb207-10"><a href="#cb207-10" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>,fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb207-11"><a href="#cb207-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Loan Type x Good Credit Score"</span>,fontsize<span class="op">=</span><span class="dv">32</span>)</span>
<span id="cb207-12"><a href="#cb207-12" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\everton.bandeira\AppData\Local\Temp\ipykernel_14836\3104834405.py:1: FutureWarning: Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.
  aux3 = df1[df1['Credit_Score']=="Good"].groupby('Credit_Score')['loan_type_PaydayLoan',</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-136-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="135">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>aux4 <span class="op">=</span> df1[df1[<span class="st">'Credit_Score'</span>]<span class="op">==</span><span class="st">"Standard"</span>].groupby(<span class="st">'Credit_Score'</span>)[<span class="st">'loan_type_PaydayLoan'</span>,</span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_PersonalLoan'</span>, <span class="st">'loan_type_HomeEquityLoan'</span>,</span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_MortgageLoan'</span>, <span class="st">'loan_type_AutoLoan'</span>,</span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_Credit-BuilderLoan'</span>, <span class="st">'loan_type_StudentLoan'</span>,</span>
<span id="cb209-5"><a href="#cb209-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_NotSpecified'</span>, <span class="st">'loan_type_DebtConsolidationLoan'</span>].<span class="bu">sum</span>().T.reset_index()</span>
<span id="cb209-6"><a href="#cb209-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-7"><a href="#cb209-7" aria-hidden="true" tabindex="-1"></a>aux4 <span class="op">=</span> aux4.sort_values(<span class="st">'Standard'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb209-8"><a href="#cb209-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-9"><a href="#cb209-9" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span><span class="st">"index"</span>,y<span class="op">=</span><span class="st">"Standard"</span>,data<span class="op">=</span>aux4,palette<span class="op">=</span><span class="st">'PuBu_d'</span>)</span>
<span id="cb209-10"><a href="#cb209-10" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>,fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb209-11"><a href="#cb209-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Loan Type x Standard Credit Score"</span>,fontsize<span class="op">=</span><span class="dv">32</span>)</span>
<span id="cb209-12"><a href="#cb209-12" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\everton.bandeira\AppData\Local\Temp\ipykernel_14836\2781972806.py:1: FutureWarning: Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.
  aux4 = df1[df1['Credit_Score']=="Standard"].groupby('Credit_Score')['loan_type_PaydayLoan',</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-137-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="136">
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a>aux5 <span class="op">=</span> df1[df1[<span class="st">'Credit_Score'</span>]<span class="op">==</span><span class="st">"Poor"</span>].groupby(<span class="st">'Credit_Score'</span>)[<span class="st">'loan_type_PaydayLoan'</span>,</span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_PersonalLoan'</span>, <span class="st">'loan_type_HomeEquityLoan'</span>,</span>
<span id="cb211-3"><a href="#cb211-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_MortgageLoan'</span>, <span class="st">'loan_type_AutoLoan'</span>,</span>
<span id="cb211-4"><a href="#cb211-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_Credit-BuilderLoan'</span>, <span class="st">'loan_type_StudentLoan'</span>,</span>
<span id="cb211-5"><a href="#cb211-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'loan_type_NotSpecified'</span>, <span class="st">'loan_type_DebtConsolidationLoan'</span>].<span class="bu">sum</span>().T.reset_index()</span>
<span id="cb211-6"><a href="#cb211-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb211-7"><a href="#cb211-7" aria-hidden="true" tabindex="-1"></a>aux5</span>
<span id="cb211-8"><a href="#cb211-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb211-9"><a href="#cb211-9" aria-hidden="true" tabindex="-1"></a>aux5 <span class="op">=</span> aux5.sort_values(<span class="st">'Poor'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb211-10"><a href="#cb211-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb211-11"><a href="#cb211-11" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span><span class="st">"index"</span>,y<span class="op">=</span><span class="st">"Poor"</span>,data<span class="op">=</span>aux5,palette<span class="op">=</span><span class="st">'PuBu_d'</span>)</span>
<span id="cb211-12"><a href="#cb211-12" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>,fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb211-13"><a href="#cb211-13" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Loan Type x Poor Credit Score"</span>,fontsize<span class="op">=</span><span class="dv">32</span>)</span>
<span id="cb211-14"><a href="#cb211-14" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\everton.bandeira\AppData\Local\Temp\ipykernel_14836\905967520.py:1: FutureWarning: Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.
  aux5 = df1[df1['Credit_Score']=="Poor"].groupby('Credit_Score')['loan_type_PaydayLoan',</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-138-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="137">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>aux6 <span class="op">=</span> df1.groupby([<span class="st">'Credit_Score'</span>,<span class="st">'Payment_Behaviour'</span>])[<span class="st">'Customer_ID'</span>].count().to_frame().reset_index()</span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-3"><a href="#cb213-3" aria-hidden="true" tabindex="-1"></a>aux6 <span class="op">=</span> aux6.sort_values(<span class="st">'Payment_Behaviour'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb213-4"><a href="#cb213-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-5"><a href="#cb213-5" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>)</span>
<span id="cb213-6"><a href="#cb213-6" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span>aux6[aux6[<span class="st">'Credit_Score'</span>]<span class="op">==</span><span class="st">'Good'</span>][<span class="st">'Payment_Behaviour'</span>],y<span class="op">=</span>aux6[<span class="st">'Customer_ID'</span>],palette<span class="op">=</span><span class="st">'PuBu_d'</span>)</span>
<span id="cb213-7"><a href="#cb213-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Payment Behaviour for Good Clients'</span>)</span>
<span id="cb213-8"><a href="#cb213-8" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>,fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb213-9"><a href="#cb213-9" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>,<span class="dv">15000</span>)</span>
<span id="cb213-10"><a href="#cb213-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-11"><a href="#cb213-11" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)</span>
<span id="cb213-12"><a href="#cb213-12" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span>aux6[aux6[<span class="st">'Credit_Score'</span>]<span class="op">==</span><span class="st">'Standard'</span>][<span class="st">'Payment_Behaviour'</span>],y<span class="op">=</span>aux6[<span class="st">'Customer_ID'</span>],palette<span class="op">=</span><span class="st">'PuBu_d'</span>)</span>
<span id="cb213-13"><a href="#cb213-13" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Payment Behaviour for Standard Clients'</span>)</span>
<span id="cb213-14"><a href="#cb213-14" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>,fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb213-15"><a href="#cb213-15" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>,<span class="dv">15000</span>)</span>
<span id="cb213-16"><a href="#cb213-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-17"><a href="#cb213-17" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">3</span>)</span>
<span id="cb213-18"><a href="#cb213-18" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span>aux6[aux6[<span class="st">'Credit_Score'</span>]<span class="op">==</span><span class="st">'Poor'</span>][<span class="st">'Payment_Behaviour'</span>],y<span class="op">=</span>aux6[<span class="st">'Customer_ID'</span>],palette<span class="op">=</span><span class="st">'PuBu_d'</span>)</span>
<span id="cb213-19"><a href="#cb213-19" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Payment Behaviour for Poor Clients'</span>)</span>
<span id="cb213-20"><a href="#cb213-20" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>,fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb213-21"><a href="#cb213-21" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>,<span class="dv">15000</span>)</span>
<span id="cb213-22"><a href="#cb213-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-23"><a href="#cb213-23" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-139-output-1.png" class="img-fluid"></p>
</div>
</div>
<section id="matriz-de-correlação" class="level3">
<h3 class="anchored" data-anchor-id="matriz-de-correlação">Matriz de correlação</h3>
<div class="cell" data-execution_count="138">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a>aux_corr <span class="op">=</span> df1[[<span class="st">'Customer_ID'</span>, <span class="st">'Month'</span>, <span class="st">'Age'</span>, <span class="st">'Occupation'</span>, <span class="st">'Annual_Income'</span>,</span>
<span id="cb214-2"><a href="#cb214-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Monthly_Inhand_Salary'</span>, <span class="st">'Num_Bank_Accounts'</span>, <span class="st">'Num_Credit_Card'</span>,</span>
<span id="cb214-3"><a href="#cb214-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Interest_Rate'</span>, <span class="st">'Num_of_Loan'</span>, <span class="st">'Delay_from_due_date'</span>,</span>
<span id="cb214-4"><a href="#cb214-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Num_of_Delayed_Payment'</span>, <span class="st">'Changed_Credit_Limit'</span>,</span>
<span id="cb214-5"><a href="#cb214-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Num_Credit_Inquiries'</span>, <span class="st">'Credit_Mix'</span>, <span class="st">'Outstanding_Debt'</span>,</span>
<span id="cb214-6"><a href="#cb214-6" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Credit_Utilization_Ratio'</span>, <span class="st">'Credit_History_Age'</span>,</span>
<span id="cb214-7"><a href="#cb214-7" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Payment_of_Min_Amount'</span>, <span class="st">'Total_EMI_per_month'</span>,</span>
<span id="cb214-8"><a href="#cb214-8" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Amount_invested_monthly'</span>, <span class="st">'Payment_Behaviour'</span>, <span class="st">'Monthly_Balance'</span>,</span>
<span id="cb214-9"><a href="#cb214-9" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Credit_Score'</span>]]</span>
<span id="cb214-10"><a href="#cb214-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-11"><a href="#cb214-11" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(style<span class="op">=</span><span class="st">"white"</span>)</span>
<span id="cb214-12"><a href="#cb214-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-13"><a href="#cb214-13" aria-hidden="true" tabindex="-1"></a>correlation_matrix<span class="op">=</span> aux_corr.corr()</span>
<span id="cb214-14"><a href="#cb214-14" aria-hidden="true" tabindex="-1"></a>mask <span class="op">=</span> np.triu(np.ones_like(correlation_matrix, dtype<span class="op">=</span><span class="bu">bool</span>))</span>
<span id="cb214-15"><a href="#cb214-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-16"><a href="#cb214-16" aria-hidden="true" tabindex="-1"></a>sns.heatmap(correlation_matrix, cmap<span class="op">=</span> <span class="st">'Blues'</span>, annot<span class="op">=</span><span class="va">True</span>, fmt<span class="op">=</span><span class="st">".2f"</span>, mask<span class="op">=</span>mask)</span>
<span id="cb214-17"><a href="#cb214-17" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-140-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Variavel Annual_income e Monthly_inhand_salary colineares (vamos excluir uma do modelo)</p>
</section>
<section id="matriz-de-correlação-com-variáveis-categoricas" class="level3">
<h3 class="anchored" data-anchor-id="matriz-de-correlação-com-variáveis-categoricas">Matriz de correlação com variáveis categoricas</h3>
<div class="cell" data-execution_count="139">
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 1 </span></span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a>a1  <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-3"><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a>a2  <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-4"><a href="#cb215-4" aria-hidden="true" tabindex="-1"></a>a3  <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-5"><a href="#cb215-5" aria-hidden="true" tabindex="-1"></a>a4  <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-6"><a href="#cb215-6" aria-hidden="true" tabindex="-1"></a>a5  <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-7"><a href="#cb215-7" aria-hidden="true" tabindex="-1"></a>a6  <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-8"><a href="#cb215-8" aria-hidden="true" tabindex="-1"></a>a7  <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-9"><a href="#cb215-9" aria-hidden="true" tabindex="-1"></a>a8  <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-10"><a href="#cb215-10" aria-hidden="true" tabindex="-1"></a>a9  <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-11"><a href="#cb215-11" aria-hidden="true" tabindex="-1"></a>a10 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-12"><a href="#cb215-12" aria-hidden="true" tabindex="-1"></a>a11 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-13"><a href="#cb215-13" aria-hidden="true" tabindex="-1"></a>a12 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-14"><a href="#cb215-14" aria-hidden="true" tabindex="-1"></a>a13 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Score'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-15"><a href="#cb215-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-16"><a href="#cb215-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-17"><a href="#cb215-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 2</span></span>
<span id="cb215-18"><a href="#cb215-18" aria-hidden="true" tabindex="-1"></a>a14 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-19"><a href="#cb215-19" aria-hidden="true" tabindex="-1"></a>a15 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-20"><a href="#cb215-20" aria-hidden="true" tabindex="-1"></a>a16 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-21"><a href="#cb215-21" aria-hidden="true" tabindex="-1"></a>a17 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-22"><a href="#cb215-22" aria-hidden="true" tabindex="-1"></a>a18 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-23"><a href="#cb215-23" aria-hidden="true" tabindex="-1"></a>a19 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-24"><a href="#cb215-24" aria-hidden="true" tabindex="-1"></a>a20 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-25"><a href="#cb215-25" aria-hidden="true" tabindex="-1"></a>a21 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-26"><a href="#cb215-26" aria-hidden="true" tabindex="-1"></a>a22 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-27"><a href="#cb215-27" aria-hidden="true" tabindex="-1"></a>a23 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-28"><a href="#cb215-28" aria-hidden="true" tabindex="-1"></a>a24 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-29"><a href="#cb215-29" aria-hidden="true" tabindex="-1"></a>a25 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-30"><a href="#cb215-30" aria-hidden="true" tabindex="-1"></a>a26 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_Behaviour'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-31"><a href="#cb215-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-32"><a href="#cb215-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-33"><a href="#cb215-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 3</span></span>
<span id="cb215-34"><a href="#cb215-34" aria-hidden="true" tabindex="-1"></a>a27 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-35"><a href="#cb215-35" aria-hidden="true" tabindex="-1"></a>a28 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-36"><a href="#cb215-36" aria-hidden="true" tabindex="-1"></a>a29 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-37"><a href="#cb215-37" aria-hidden="true" tabindex="-1"></a>a30 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-38"><a href="#cb215-38" aria-hidden="true" tabindex="-1"></a>a31 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-39"><a href="#cb215-39" aria-hidden="true" tabindex="-1"></a>a32 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-40"><a href="#cb215-40" aria-hidden="true" tabindex="-1"></a>a33 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-41"><a href="#cb215-41" aria-hidden="true" tabindex="-1"></a>a34 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-42"><a href="#cb215-42" aria-hidden="true" tabindex="-1"></a>a35 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-43"><a href="#cb215-43" aria-hidden="true" tabindex="-1"></a>a36 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-44"><a href="#cb215-44" aria-hidden="true" tabindex="-1"></a>a37 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-45"><a href="#cb215-45" aria-hidden="true" tabindex="-1"></a>a38 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-46"><a href="#cb215-46" aria-hidden="true" tabindex="-1"></a>a39 <span class="op">=</span> cramer_v(df1[<span class="st">'Payment_of_Min_Amount'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-47"><a href="#cb215-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-48"><a href="#cb215-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 4</span></span>
<span id="cb215-49"><a href="#cb215-49" aria-hidden="true" tabindex="-1"></a>a40 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-50"><a href="#cb215-50" aria-hidden="true" tabindex="-1"></a>a41 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-51"><a href="#cb215-51" aria-hidden="true" tabindex="-1"></a>a42 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-52"><a href="#cb215-52" aria-hidden="true" tabindex="-1"></a>a43 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-53"><a href="#cb215-53" aria-hidden="true" tabindex="-1"></a>a44 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-54"><a href="#cb215-54" aria-hidden="true" tabindex="-1"></a>a45 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-55"><a href="#cb215-55" aria-hidden="true" tabindex="-1"></a>a46 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-56"><a href="#cb215-56" aria-hidden="true" tabindex="-1"></a>a47 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-57"><a href="#cb215-57" aria-hidden="true" tabindex="-1"></a>a48 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-58"><a href="#cb215-58" aria-hidden="true" tabindex="-1"></a>a49 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-59"><a href="#cb215-59" aria-hidden="true" tabindex="-1"></a>a50 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-60"><a href="#cb215-60" aria-hidden="true" tabindex="-1"></a>a51 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-61"><a href="#cb215-61" aria-hidden="true" tabindex="-1"></a>a52 <span class="op">=</span> cramer_v(df1[<span class="st">'Credit_Mix'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-62"><a href="#cb215-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-63"><a href="#cb215-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 5</span></span>
<span id="cb215-64"><a href="#cb215-64" aria-hidden="true" tabindex="-1"></a>a53 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-65"><a href="#cb215-65" aria-hidden="true" tabindex="-1"></a>a54 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-66"><a href="#cb215-66" aria-hidden="true" tabindex="-1"></a>a55 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-67"><a href="#cb215-67" aria-hidden="true" tabindex="-1"></a>a56 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-68"><a href="#cb215-68" aria-hidden="true" tabindex="-1"></a>a57 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-69"><a href="#cb215-69" aria-hidden="true" tabindex="-1"></a>a58 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-70"><a href="#cb215-70" aria-hidden="true" tabindex="-1"></a>a59 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-71"><a href="#cb215-71" aria-hidden="true" tabindex="-1"></a>a60 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-72"><a href="#cb215-72" aria-hidden="true" tabindex="-1"></a>a61 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-73"><a href="#cb215-73" aria-hidden="true" tabindex="-1"></a>a62 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-74"><a href="#cb215-74" aria-hidden="true" tabindex="-1"></a>a63 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-75"><a href="#cb215-75" aria-hidden="true" tabindex="-1"></a>a64 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-76"><a href="#cb215-76" aria-hidden="true" tabindex="-1"></a>a65 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_NotSpecified'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-77"><a href="#cb215-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-78"><a href="#cb215-78" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 6</span></span>
<span id="cb215-79"><a href="#cb215-79" aria-hidden="true" tabindex="-1"></a>a66 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-80"><a href="#cb215-80" aria-hidden="true" tabindex="-1"></a>a67 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-81"><a href="#cb215-81" aria-hidden="true" tabindex="-1"></a>a68 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-82"><a href="#cb215-82" aria-hidden="true" tabindex="-1"></a>a69 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-83"><a href="#cb215-83" aria-hidden="true" tabindex="-1"></a>a70 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-84"><a href="#cb215-84" aria-hidden="true" tabindex="-1"></a>a71 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-85"><a href="#cb215-85" aria-hidden="true" tabindex="-1"></a>a72 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-86"><a href="#cb215-86" aria-hidden="true" tabindex="-1"></a>a73 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-87"><a href="#cb215-87" aria-hidden="true" tabindex="-1"></a>a74 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-88"><a href="#cb215-88" aria-hidden="true" tabindex="-1"></a>a75 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-89"><a href="#cb215-89" aria-hidden="true" tabindex="-1"></a>a76 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-90"><a href="#cb215-90" aria-hidden="true" tabindex="-1"></a>a77 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-91"><a href="#cb215-91" aria-hidden="true" tabindex="-1"></a>a78 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_HomeEquityLoan'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-92"><a href="#cb215-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-93"><a href="#cb215-93" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 7</span></span>
<span id="cb215-94"><a href="#cb215-94" aria-hidden="true" tabindex="-1"></a>a79 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-95"><a href="#cb215-95" aria-hidden="true" tabindex="-1"></a>a80 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-96"><a href="#cb215-96" aria-hidden="true" tabindex="-1"></a>a81 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-97"><a href="#cb215-97" aria-hidden="true" tabindex="-1"></a>a82 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-98"><a href="#cb215-98" aria-hidden="true" tabindex="-1"></a>a83 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-99"><a href="#cb215-99" aria-hidden="true" tabindex="-1"></a>a84 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-100"><a href="#cb215-100" aria-hidden="true" tabindex="-1"></a>a85 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-101"><a href="#cb215-101" aria-hidden="true" tabindex="-1"></a>a86 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-102"><a href="#cb215-102" aria-hidden="true" tabindex="-1"></a>a87 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-103"><a href="#cb215-103" aria-hidden="true" tabindex="-1"></a>a88 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-104"><a href="#cb215-104" aria-hidden="true" tabindex="-1"></a>a89 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-105"><a href="#cb215-105" aria-hidden="true" tabindex="-1"></a>a90 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-106"><a href="#cb215-106" aria-hidden="true" tabindex="-1"></a>a91 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PaydayLoan'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-107"><a href="#cb215-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-108"><a href="#cb215-108" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 8</span></span>
<span id="cb215-109"><a href="#cb215-109" aria-hidden="true" tabindex="-1"></a>a92  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-110"><a href="#cb215-110" aria-hidden="true" tabindex="-1"></a>a93  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-111"><a href="#cb215-111" aria-hidden="true" tabindex="-1"></a>a94  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-112"><a href="#cb215-112" aria-hidden="true" tabindex="-1"></a>a95  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-113"><a href="#cb215-113" aria-hidden="true" tabindex="-1"></a>a96  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-114"><a href="#cb215-114" aria-hidden="true" tabindex="-1"></a>a97  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-115"><a href="#cb215-115" aria-hidden="true" tabindex="-1"></a>a98  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-116"><a href="#cb215-116" aria-hidden="true" tabindex="-1"></a>a99  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-117"><a href="#cb215-117" aria-hidden="true" tabindex="-1"></a>a100 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-118"><a href="#cb215-118" aria-hidden="true" tabindex="-1"></a>a101 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-119"><a href="#cb215-119" aria-hidden="true" tabindex="-1"></a>a102 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-120"><a href="#cb215-120" aria-hidden="true" tabindex="-1"></a>a103 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-121"><a href="#cb215-121" aria-hidden="true" tabindex="-1"></a>a104 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-122"><a href="#cb215-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-123"><a href="#cb215-123" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 9</span></span>
<span id="cb215-124"><a href="#cb215-124" aria-hidden="true" tabindex="-1"></a>a105  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-125"><a href="#cb215-125" aria-hidden="true" tabindex="-1"></a>a106  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-126"><a href="#cb215-126" aria-hidden="true" tabindex="-1"></a>a107  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-127"><a href="#cb215-127" aria-hidden="true" tabindex="-1"></a>a108  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-128"><a href="#cb215-128" aria-hidden="true" tabindex="-1"></a>a109  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-129"><a href="#cb215-129" aria-hidden="true" tabindex="-1"></a>a110  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-130"><a href="#cb215-130" aria-hidden="true" tabindex="-1"></a>a111  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-131"><a href="#cb215-131" aria-hidden="true" tabindex="-1"></a>a112  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-132"><a href="#cb215-132" aria-hidden="true" tabindex="-1"></a>a113  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-133"><a href="#cb215-133" aria-hidden="true" tabindex="-1"></a>a114  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-134"><a href="#cb215-134" aria-hidden="true" tabindex="-1"></a>a115  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-135"><a href="#cb215-135" aria-hidden="true" tabindex="-1"></a>a116  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-136"><a href="#cb215-136" aria-hidden="true" tabindex="-1"></a>a117  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_MortgageLoan'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-137"><a href="#cb215-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-138"><a href="#cb215-138" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 10</span></span>
<span id="cb215-139"><a href="#cb215-139" aria-hidden="true" tabindex="-1"></a>a118  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-140"><a href="#cb215-140" aria-hidden="true" tabindex="-1"></a>a119  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-141"><a href="#cb215-141" aria-hidden="true" tabindex="-1"></a>a120  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>]) </span>
<span id="cb215-142"><a href="#cb215-142" aria-hidden="true" tabindex="-1"></a>a121  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-143"><a href="#cb215-143" aria-hidden="true" tabindex="-1"></a>a122  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-144"><a href="#cb215-144" aria-hidden="true" tabindex="-1"></a>a123  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-145"><a href="#cb215-145" aria-hidden="true" tabindex="-1"></a>a124  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-146"><a href="#cb215-146" aria-hidden="true" tabindex="-1"></a>a125  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-147"><a href="#cb215-147" aria-hidden="true" tabindex="-1"></a>a126  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-148"><a href="#cb215-148" aria-hidden="true" tabindex="-1"></a>a127  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-149"><a href="#cb215-149" aria-hidden="true" tabindex="-1"></a>a128  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-150"><a href="#cb215-150" aria-hidden="true" tabindex="-1"></a>a129  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-151"><a href="#cb215-151" aria-hidden="true" tabindex="-1"></a>a130  <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_AutoLoan'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-152"><a href="#cb215-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-153"><a href="#cb215-153" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 11</span></span>
<span id="cb215-154"><a href="#cb215-154" aria-hidden="true" tabindex="-1"></a>a131 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-155"><a href="#cb215-155" aria-hidden="true" tabindex="-1"></a>a132 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-156"><a href="#cb215-156" aria-hidden="true" tabindex="-1"></a>a133 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-157"><a href="#cb215-157" aria-hidden="true" tabindex="-1"></a>a134 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-158"><a href="#cb215-158" aria-hidden="true" tabindex="-1"></a>a135 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-159"><a href="#cb215-159" aria-hidden="true" tabindex="-1"></a>a136 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-160"><a href="#cb215-160" aria-hidden="true" tabindex="-1"></a>a137 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-161"><a href="#cb215-161" aria-hidden="true" tabindex="-1"></a>a138 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-162"><a href="#cb215-162" aria-hidden="true" tabindex="-1"></a>a139 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-163"><a href="#cb215-163" aria-hidden="true" tabindex="-1"></a>a140 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-164"><a href="#cb215-164" aria-hidden="true" tabindex="-1"></a>a141 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-165"><a href="#cb215-165" aria-hidden="true" tabindex="-1"></a>a142 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-166"><a href="#cb215-166" aria-hidden="true" tabindex="-1"></a>a143 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_StudentLoan'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-167"><a href="#cb215-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-168"><a href="#cb215-168" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 12</span></span>
<span id="cb215-169"><a href="#cb215-169" aria-hidden="true" tabindex="-1"></a>a144 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-170"><a href="#cb215-170" aria-hidden="true" tabindex="-1"></a>a145 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-171"><a href="#cb215-171" aria-hidden="true" tabindex="-1"></a>a146 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-172"><a href="#cb215-172" aria-hidden="true" tabindex="-1"></a>a147 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-173"><a href="#cb215-173" aria-hidden="true" tabindex="-1"></a>a148 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-174"><a href="#cb215-174" aria-hidden="true" tabindex="-1"></a>a149 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-175"><a href="#cb215-175" aria-hidden="true" tabindex="-1"></a>a150 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-176"><a href="#cb215-176" aria-hidden="true" tabindex="-1"></a>a151 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-177"><a href="#cb215-177" aria-hidden="true" tabindex="-1"></a>a152 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-178"><a href="#cb215-178" aria-hidden="true" tabindex="-1"></a>a153 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-179"><a href="#cb215-179" aria-hidden="true" tabindex="-1"></a>a154 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-180"><a href="#cb215-180" aria-hidden="true" tabindex="-1"></a>a155 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-181"><a href="#cb215-181" aria-hidden="true" tabindex="-1"></a>a156 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span>
<span id="cb215-182"><a href="#cb215-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-183"><a href="#cb215-183" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 13</span></span>
<span id="cb215-184"><a href="#cb215-184" aria-hidden="true" tabindex="-1"></a>a157 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'Credit_Score'</span>])</span>
<span id="cb215-185"><a href="#cb215-185" aria-hidden="true" tabindex="-1"></a>a158 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'Payment_Behaviour'</span>])</span>
<span id="cb215-186"><a href="#cb215-186" aria-hidden="true" tabindex="-1"></a>a159 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'Payment_of_Min_Amount'</span>])</span>
<span id="cb215-187"><a href="#cb215-187" aria-hidden="true" tabindex="-1"></a>a160 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb215-188"><a href="#cb215-188" aria-hidden="true" tabindex="-1"></a>a161 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'loan_type_NotSpecified'</span>])</span>
<span id="cb215-189"><a href="#cb215-189" aria-hidden="true" tabindex="-1"></a>a162 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'loan_type_HomeEquityLoan'</span>])</span>
<span id="cb215-190"><a href="#cb215-190" aria-hidden="true" tabindex="-1"></a>a163 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'loan_type_PaydayLoan'</span>])</span>
<span id="cb215-191"><a href="#cb215-191" aria-hidden="true" tabindex="-1"></a>a164 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'loan_type_DebtConsolidationLoan'</span>])</span>
<span id="cb215-192"><a href="#cb215-192" aria-hidden="true" tabindex="-1"></a>a165 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'loan_type_MortgageLoan'</span>])</span>
<span id="cb215-193"><a href="#cb215-193" aria-hidden="true" tabindex="-1"></a>a166 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'loan_type_AutoLoan'</span>])</span>
<span id="cb215-194"><a href="#cb215-194" aria-hidden="true" tabindex="-1"></a>a167 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'loan_type_StudentLoan'</span>])</span>
<span id="cb215-195"><a href="#cb215-195" aria-hidden="true" tabindex="-1"></a>a168 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'loan_type_Credit-BuilderLoan'</span>])</span>
<span id="cb215-196"><a href="#cb215-196" aria-hidden="true" tabindex="-1"></a>a169 <span class="op">=</span> cramer_v(df1[<span class="st">'loan_type_PersonalLoan'</span>],df1[<span class="st">'loan_type_PersonalLoan'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="140">
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> pd.DataFrame({<span class="st">'Credit_Score'</span>:                    [a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13],</span>
<span id="cb216-2"><a href="#cb216-2" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Payment_Behaviour'</span>:               [a14,a15,a16,a17,a18,a19,a20,a21,a22,a23,a24,a25,a26],</span>
<span id="cb216-3"><a href="#cb216-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Payment_of_Min_Amount'</span>:           [a27,a28,a29,a30,a31,a32,a33,a34,a35,a36,a37,a38,a39],</span>
<span id="cb216-4"><a href="#cb216-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Credit_Mix'</span>:                      [a40,a41,a42,a43,a44,a45,a46,a47,a48,a49,a50,a51,a52],</span>
<span id="cb216-5"><a href="#cb216-5" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'loan_type_NotSpecified'</span>:          [a53,a54,a55,a56,a57,a58,a59,a60,a61,a62,a63,a64,a65],</span>
<span id="cb216-6"><a href="#cb216-6" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'loan_type_HomeEquityLoan'</span>:        [a66,a67,a68,a69,a70,a71,a72,a73,a74,a75,a76,a77,a78],</span>
<span id="cb216-7"><a href="#cb216-7" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'loan_type_PaydayLoan'</span>:            [a79,a80,a81,a82,a83,a84,a85,a86,a87,a88,a89,a90,a91],</span>
<span id="cb216-8"><a href="#cb216-8" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'loan_type_DebtConsolidationLoan'</span>: [a92,a93,a94,a95,a96,a97,a98,a99,a100,a101,a102,a103,a104],</span>
<span id="cb216-9"><a href="#cb216-9" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'loan_type_MortgageLoan'</span>:          [a105,a106,a107,a108,a109,a110,a111,a112,a113,a114,a115,a116,a117],</span>
<span id="cb216-10"><a href="#cb216-10" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'loan_type_AutoLoan'</span>:              [a118,a119,a120,a121,a122,a123,a124,a125,a126,a127,a128,a129,a130],</span>
<span id="cb216-11"><a href="#cb216-11" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'loan_type_StudentLoan'</span>:           [a131,a132,a133,a134,a135,a136,a137,a138,a139,a140,a141,a142,a143],</span>
<span id="cb216-12"><a href="#cb216-12" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'loan_type_Credit-BuilderLoan'</span>:    [a144,a145,a146,a147,a148,a149,a150,a151,a152,a153,a154,a155,a156],</span>
<span id="cb216-13"><a href="#cb216-13" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'loan_type_PersonalLoan'</span>:          [a157,a158,a159,a160,a161,a162,a163,a164,a165,a166,a167,a168,a169]})</span>
<span id="cb216-14"><a href="#cb216-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-15"><a href="#cb216-15" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> d.set_index(d.columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="141">
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co"># matriz de contingência</span></span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(style<span class="op">=</span><span class="st">"white"</span>)</span>
<span id="cb217-3"><a href="#cb217-3" aria-hidden="true" tabindex="-1"></a>sns.heatmap(d, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">"Blues"</span>, fmt<span class="op">=</span><span class="st">".2f"</span>)</span>
<span id="cb217-4"><a href="#cb217-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Matriz de Contingência"</span>)</span>
<span id="cb217-5"><a href="#cb217-5" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb217-6"><a href="#cb217-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-143-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
</section>
<section id="transformação-das-variáveis" class="level1">
<h1>Transformação das Variáveis</h1>
<section id="setando-base" class="level2">
<h2 class="anchored" data-anchor-id="setando-base">Setando Base</h2>
<div class="cell" data-execution_count="142">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> df1.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="143">
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a>rs <span class="op">=</span> RobustScaler()</span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a>mms <span class="op">=</span> MinMaxScaler()</span>
<span id="cb219-3"><a href="#cb219-3" aria-hidden="true" tabindex="-1"></a>le <span class="op">=</span> LabelEncoder()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="month" class="level2">
<h2 class="anchored" data-anchor-id="month">Month</h2>
<div class="cell" data-execution_count="144">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Month'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="144">
<pre><code>array(['January', 'February', 'March', 'April', 'May', 'June', 'July',
       'August'], dtype=object)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="145">
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a>month_dict <span class="op">=</span> {<span class="st">'January'</span>:<span class="dv">1</span>,<span class="st">'February'</span>:<span class="dv">2</span>,<span class="st">'March'</span>:<span class="dv">3</span>,<span class="st">'April'</span>:<span class="dv">4</span>,<span class="st">'May'</span>:<span class="dv">5</span>,<span class="st">'June'</span>:<span class="dv">6</span>,<span class="st">'July'</span>:<span class="dv">7</span>,<span class="st">'August'</span>:<span class="dv">8</span>}</span>
<span id="cb222-2"><a href="#cb222-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-3"><a href="#cb222-3" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Month'</span>] <span class="op">=</span> df2[<span class="st">'Month'</span>].<span class="bu">map</span>(month_dict)</span>
<span id="cb222-4"><a href="#cb222-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-5"><a href="#cb222-5" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Month_sin'</span>] <span class="op">=</span> df2[<span class="st">'Month'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: np.sin( x<span class="op">*</span>(<span class="dv">2</span> <span class="op">*</span> np.pi<span class="op">/</span><span class="dv">12</span>)))</span>
<span id="cb222-6"><a href="#cb222-6" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Month_cos'</span>] <span class="op">=</span> df2[<span class="st">'Month'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: np.cos( x<span class="op">*</span>(<span class="dv">2</span> <span class="op">*</span> np.pi<span class="op">/</span><span class="dv">12</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="age" class="level2">
<h2 class="anchored" data-anchor-id="age">Age</h2>
<div class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Age'</span>] <span class="op">=</span> mms.fit_transform(df2[[<span class="st">'Age'</span>]].values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="occupation" class="level2">
<h2 class="anchored" data-anchor-id="occupation">Occupation</h2>
<div class="cell" data-execution_count="147">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Occupation'</span>] <span class="op">=</span> le.fit_transform(df2[<span class="st">'Occupation'</span>])</span>
<span id="cb224-2"><a href="#cb224-2" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Occupation'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="147">
<pre><code>array([12, 13,  4,  5,  2,  7, 10,  3,  6,  8,  0, 11,  9, 14,  1])</code></pre>
</div>
</div>
</section>
<section id="annual_income" class="level2">
<h2 class="anchored" data-anchor-id="annual_income">Annual_Income</h2>
<div class="cell" data-execution_count="148">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Annual_Income'</span>] <span class="op">=</span> rs.fit_transform(df2[[<span class="st">'Annual_Income'</span>]].values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="monthly_inhand_salary" class="level2">
<h2 class="anchored" data-anchor-id="monthly_inhand_salary">Monthly_Inhand_Salary</h2>
<div class="cell" data-execution_count="149">
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(df2[<span class="st">'Monthly_Inhand_Salary'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\seaborn\_decorators.py:36: FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="149">
<pre><code>&lt;AxesSubplot:xlabel='Monthly_Inhand_Salary'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-151-output-3.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="150">
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Monthly_Inhand_Salary'</span>] <span class="op">=</span> rs.fit_transform(df2[[<span class="st">'Monthly_Inhand_Salary'</span>]].values)</span>
<span id="cb230-2"><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(df2[<span class="st">'Monthly_Inhand_Salary'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\seaborn\_decorators.py:36: FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="150">
<pre><code>&lt;AxesSubplot:xlabel='Monthly_Inhand_Salary'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-152-output-3.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="interest_rate" class="level2">
<h2 class="anchored" data-anchor-id="interest_rate">Interest_Rate</h2>
<div class="cell" data-execution_count="151">
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Interest_Rate'</span>] <span class="op">=</span> mms.fit_transform(df2[[<span class="st">'Interest_Rate'</span>]].values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="changed_credit_limit" class="level2">
<h2 class="anchored" data-anchor-id="changed_credit_limit">Changed_Credit_Limit</h2>
<div class="cell" data-execution_count="152">
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Changed_Credit_Limit'</span>] <span class="op">=</span> rs.fit_transform(df2[[<span class="st">'Changed_Credit_Limit'</span>]].values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="credit_mix" class="level2">
<h2 class="anchored" data-anchor-id="credit_mix">Credit_Mix</h2>
<div class="cell" data-execution_count="153">
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Credit_Mix'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="153">
<pre><code>array(['Good', 'Standard', 'Bad'], dtype=object)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="154">
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Credit_Mix'</span>] <span class="op">=</span> le.fit_transform(df2[<span class="st">'Credit_Mix'</span>])</span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Credit_Mix'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="154">
<pre><code>array([1, 2, 0])</code></pre>
</div>
</div>
</section>
<section id="outstanding_debt" class="level2">
<h2 class="anchored" data-anchor-id="outstanding_debt">Outstanding_Debt</h2>
<div class="cell" data-execution_count="155">
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Outstanding_Debt'</span>] <span class="op">=</span> rs.fit_transform(df2[[<span class="st">'Outstanding_Debt'</span>]].values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="credit_utilization_ratio" class="level2">
<h2 class="anchored" data-anchor-id="credit_utilization_ratio">Credit_Utilization_Ratio</h2>
<div class="cell" data-execution_count="156">
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Credit_Utilization_Ratio'</span>] <span class="op">=</span> mms.fit_transform(df2[[<span class="st">'Credit_Utilization_Ratio'</span>]].values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="credit_history_age" class="level2">
<h2 class="anchored" data-anchor-id="credit_history_age">Credit_History_Age</h2>
<div class="cell" data-execution_count="157">
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Credit_History_Age'</span>] <span class="op">=</span> mms.fit_transform(df2[[<span class="st">'Credit_History_Age'</span>]].values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="total_emi_per_month" class="level2">
<h2 class="anchored" data-anchor-id="total_emi_per_month">Total_EMI_per_month</h2>
<div class="cell" data-execution_count="158">
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Total_EMI_per_month'</span>] <span class="op">=</span> rs.fit_transform(df2[[<span class="st">'Total_EMI_per_month'</span>]].values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="amount_invested_monthly" class="level2">
<h2 class="anchored" data-anchor-id="amount_invested_monthly">Amount_invested_monthly</h2>
<div class="cell" data-execution_count="159">
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">4</span>))<span class="op">;</span></span>
<span id="cb243-2"><a href="#cb243-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span>df2[<span class="st">'Amount_invested_monthly'</span>])<span class="op">;</span></span>
<span id="cb243-3"><a href="#cb243-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-162-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="160">
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Amount_invested_monthly'</span>] <span class="op">=</span> rs.fit_transform(df2[[<span class="st">'Amount_invested_monthly'</span>]].values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="payment_behaviour" class="level2">
<h2 class="anchored" data-anchor-id="payment_behaviour">Payment_Behaviour</h2>
<div class="cell" data-execution_count="161">
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Payment_Behaviour'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="161">
<pre><code>array(['High_spent_Small_value_payments',
       'Low_spent_Large_value_payments',
       'Low_spent_Medium_value_payments',
       'Low_spent_Small_value_payments',
       'High_spent_Medium_value_payments',
       'High_spent_Large_value_payments'], dtype=object)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="162">
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Payment_Behaviour'</span>] <span class="op">=</span> le.fit_transform(df2[<span class="st">'Payment_Behaviour'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="monthly_balance" class="level2">
<h2 class="anchored" data-anchor-id="monthly_balance">Monthly_Balance</h2>
<div class="cell" data-execution_count="163">
<div class="sourceCode cell-code" id="cb248"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">4</span>))<span class="op">;</span></span>
<span id="cb248-2"><a href="#cb248-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span>df2[<span class="st">'Monthly_Balance'</span>])<span class="op">;</span></span>
<span id="cb248-3"><a href="#cb248-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Project_NJ_files/figure-html/cell-166-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="164">
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Monthly_Balance'</span>] <span class="op">=</span> rs.fit_transform(df2[[<span class="st">'Monthly_Balance'</span>]].values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="credit_score" class="level2">
<h2 class="anchored" data-anchor-id="credit_score">Credit_Score</h2>
<div class="cell" data-execution_count="165">
<div class="sourceCode cell-code" id="cb250"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Credit_Score'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="165">
<pre><code>array(['Good', 'Standard', 'Poor'], dtype=object)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="166">
<div class="sourceCode cell-code" id="cb252"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Credit_Score'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="166">
<pre><code>Standard    53174
Poor        28998
Good        17828
Name: Credit_Score, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="167">
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Credit_Score'</span>] <span class="op">=</span> le.fit_transform(df2[<span class="st">'Credit_Score'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="168">
<div class="sourceCode cell-code" id="cb255"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb255-1"><a href="#cb255-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'Credit_Score'</span>].value_counts(dropna<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="168">
<pre><code>2    53174
1    28998
0    17828
Name: Credit_Score, dtype: int64</code></pre>
</div>
</div>
</section>
</section>
<section id="feature-selection" class="level1">
<h1>Feature Selection</h1>
<div class="cell" data-execution_count="169">
<div class="sourceCode cell-code" id="cb257"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a>df3 <span class="op">=</span> df2.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="170">
<div class="sourceCode cell-code" id="cb258"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> df3[[<span class="st">'Month'</span>,</span>
<span id="cb258-2"><a href="#cb258-2" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Age'</span>, </span>
<span id="cb258-3"><a href="#cb258-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Occupation'</span>, </span>
<span id="cb258-4"><a href="#cb258-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Annual_Income'</span>,</span>
<span id="cb258-5"><a href="#cb258-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Monthly_Inhand_Salary'</span>, </span>
<span id="cb258-6"><a href="#cb258-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Num_Bank_Accounts'</span>, </span>
<span id="cb258-7"><a href="#cb258-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Num_Credit_Card'</span>,</span>
<span id="cb258-8"><a href="#cb258-8" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Interest_Rate'</span>, </span>
<span id="cb258-9"><a href="#cb258-9" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Num_of_Loan'</span>, </span>
<span id="cb258-10"><a href="#cb258-10" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Delay_from_due_date'</span>,</span>
<span id="cb258-11"><a href="#cb258-11" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Num_of_Delayed_Payment'</span>, </span>
<span id="cb258-12"><a href="#cb258-12" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Changed_Credit_Limit'</span>,</span>
<span id="cb258-13"><a href="#cb258-13" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Num_Credit_Inquiries'</span>, </span>
<span id="cb258-14"><a href="#cb258-14" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Credit_Mix'</span>, </span>
<span id="cb258-15"><a href="#cb258-15" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Outstanding_Debt'</span>,</span>
<span id="cb258-16"><a href="#cb258-16" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Credit_Utilization_Ratio'</span>, </span>
<span id="cb258-17"><a href="#cb258-17" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Credit_History_Age'</span>,</span>
<span id="cb258-18"><a href="#cb258-18" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Payment_of_Min_Amount'</span>, </span>
<span id="cb258-19"><a href="#cb258-19" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Total_EMI_per_month'</span>,</span>
<span id="cb258-20"><a href="#cb258-20" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Amount_invested_monthly'</span>, </span>
<span id="cb258-21"><a href="#cb258-21" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Payment_Behaviour'</span>, </span>
<span id="cb258-22"><a href="#cb258-22" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Monthly_Balance'</span>,</span>
<span id="cb258-23"><a href="#cb258-23" aria-hidden="true" tabindex="-1"></a>         <span class="st">'loan_type_PersonalLoan'</span>,</span>
<span id="cb258-24"><a href="#cb258-24" aria-hidden="true" tabindex="-1"></a>         <span class="st">'loan_type_Credit-BuilderLoan'</span>, </span>
<span id="cb258-25"><a href="#cb258-25" aria-hidden="true" tabindex="-1"></a>         <span class="st">'loan_type_DebtConsolidationLoan'</span>,</span>
<span id="cb258-26"><a href="#cb258-26" aria-hidden="true" tabindex="-1"></a>         <span class="st">'loan_type_HomeEquityLoan'</span>, </span>
<span id="cb258-27"><a href="#cb258-27" aria-hidden="true" tabindex="-1"></a>         <span class="st">'loan_type_AutoLoan'</span>,</span>
<span id="cb258-28"><a href="#cb258-28" aria-hidden="true" tabindex="-1"></a>         <span class="st">'loan_type_NotSpecified'</span>, </span>
<span id="cb258-29"><a href="#cb258-29" aria-hidden="true" tabindex="-1"></a>         <span class="st">'loan_type_StudentLoan'</span>,</span>
<span id="cb258-30"><a href="#cb258-30" aria-hidden="true" tabindex="-1"></a>         <span class="st">'loan_type_MortgageLoan'</span>, </span>
<span id="cb258-31"><a href="#cb258-31" aria-hidden="true" tabindex="-1"></a>         <span class="st">'loan_type_PaydayLoan'</span>, </span>
<span id="cb258-32"><a href="#cb258-32" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Month_sin'</span>,</span>
<span id="cb258-33"><a href="#cb258-33" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Month_cos'</span>]]</span>
<span id="cb258-34"><a href="#cb258-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb258-35"><a href="#cb258-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb258-36"><a href="#cb258-36" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> df3[[<span class="st">'Credit_Score'</span>]]</span>
<span id="cb258-37"><a href="#cb258-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb258-38"><a href="#cb258-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb258-39"><a href="#cb258-39" aria-hidden="true" tabindex="-1"></a>x_train, x_test, y_train, y_test <span class="op">=</span> train_test_split(x, y, test_size<span class="op">=</span><span class="fl">0.3</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="171">
<div class="sourceCode cell-code" id="cb259"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb259-1"><a href="#cb259-1" aria-hidden="true" tabindex="-1"></a>x_train_n <span class="op">=</span> x_train.values</span>
<span id="cb259-2"><a href="#cb259-2" aria-hidden="true" tabindex="-1"></a>y_train_n <span class="op">=</span> y_train.values.ravel()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="172">
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="co">#rf = RandomForestRegressor(n_jobs = -1) #usa todos os cores do processador</span></span>
<span id="cb260-2"><a href="#cb260-2" aria-hidden="true" tabindex="-1"></a><span class="co">#boruta = BorutaPy(rf, n_estimators = 'auto', verbose = 2, random_state = 129718).fit(x_train_n,y_train_n)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="173">
<div class="sourceCode cell-code" id="cb261"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cols_selected = boruta.support_.tolist()</span></span>
<span id="cb261-2"><a href="#cb261-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-3"><a href="#cb261-3" aria-hidden="true" tabindex="-1"></a><span class="co"># #Best features</span></span>
<span id="cb261-4"><a href="#cb261-4" aria-hidden="true" tabindex="-1"></a><span class="co"># cols_selected_boruta = x_train.iloc[:,cols_selected].columns</span></span>
<span id="cb261-5"><a href="#cb261-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-6"><a href="#cb261-6" aria-hidden="true" tabindex="-1"></a><span class="co"># #Not selected</span></span>
<span id="cb261-7"><a href="#cb261-7" aria-hidden="true" tabindex="-1"></a><span class="co"># cols_not_selected_boruta = list(np.setdiff1d(x_train.columns,cols_selected_boruta))</span></span>
<span id="cb261-8"><a href="#cb261-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-9"><a href="#cb261-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ## As colunas selecionadas pelo algoritmo convergem com os resultados expressos na análise das correlações das variáveis</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="174">
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rf = RandomForestClassifier(n_jobs = -1, n_estimators=100, random_state= 129718) #usa todos os cores do processador</span></span>
<span id="cb262-2"><a href="#cb262-2" aria-hidden="true" tabindex="-1"></a><span class="co"># boruta = BorutaPy(rf, n_estimators = 'auto', verbose = 2, random_state = 129718).fit(x_train_n,y_train_n)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="175">
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cols_selected = boruta.support_.tolist()</span></span>
<span id="cb263-2"><a href="#cb263-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-3"><a href="#cb263-3" aria-hidden="true" tabindex="-1"></a><span class="co"># #Best features</span></span>
<span id="cb263-4"><a href="#cb263-4" aria-hidden="true" tabindex="-1"></a><span class="co"># cols_selected_boruta = x_train.iloc[:,cols_selected].columns</span></span>
<span id="cb263-5"><a href="#cb263-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-6"><a href="#cb263-6" aria-hidden="true" tabindex="-1"></a><span class="co"># #Not selected</span></span>
<span id="cb263-7"><a href="#cb263-7" aria-hidden="true" tabindex="-1"></a><span class="co"># cols_not_selected_boruta = list(np.setdiff1d(x_train.columns,cols_selected_boruta))</span></span>
<span id="cb263-8"><a href="#cb263-8" aria-hidden="true" tabindex="-1"></a><span class="co"># ## As colunas selecionadas pelo algoritmo convergem com os resultados expressos na análise das correlações das variáveis</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="176">
<div class="sourceCode cell-code" id="cb264"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="co">#cols_not_selected_boruta</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="177">
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="co">#cols_selected_boruta</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="178">
<div class="sourceCode cell-code" id="cb266"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a>cols_selected_boruta <span class="op">=</span> [<span class="co">#'Age',</span></span>
<span id="cb266-2"><a href="#cb266-2" aria-hidden="true" tabindex="-1"></a>                        <span class="co">#'Credit_Utilization_Ratio',</span></span>
<span id="cb266-3"><a href="#cb266-3" aria-hidden="true" tabindex="-1"></a>                        <span class="co">#'Num_of_Loan',</span></span>
<span id="cb266-4"><a href="#cb266-4" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Payment_Behaviour'</span>,</span>
<span id="cb266-5"><a href="#cb266-5" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Annual_Income'</span>, </span>
<span id="cb266-6"><a href="#cb266-6" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Monthly_Inhand_Salary'</span>, </span>
<span id="cb266-7"><a href="#cb266-7" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Num_Bank_Accounts'</span>,</span>
<span id="cb266-8"><a href="#cb266-8" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Num_Credit_Card'</span>, </span>
<span id="cb266-9"><a href="#cb266-9" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Interest_Rate'</span>, </span>
<span id="cb266-10"><a href="#cb266-10" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Delay_from_due_date'</span>,</span>
<span id="cb266-11"><a href="#cb266-11" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Num_of_Delayed_Payment'</span>,</span>
<span id="cb266-12"><a href="#cb266-12" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Changed_Credit_Limit'</span>,</span>
<span id="cb266-13"><a href="#cb266-13" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Num_Credit_Inquiries'</span>, </span>
<span id="cb266-14"><a href="#cb266-14" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Credit_Mix'</span>, </span>
<span id="cb266-15"><a href="#cb266-15" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Outstanding_Debt'</span>,</span>
<span id="cb266-16"><a href="#cb266-16" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Credit_History_Age'</span>, </span>
<span id="cb266-17"><a href="#cb266-17" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Payment_of_Min_Amount'</span>, </span>
<span id="cb266-18"><a href="#cb266-18" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Total_EMI_per_month'</span>,</span>
<span id="cb266-19"><a href="#cb266-19" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Amount_invested_monthly'</span>, </span>
<span id="cb266-20"><a href="#cb266-20" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Monthly_Balance'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="machine-learning-models" class="level1">
<h1>Machine Learning Models</h1>
<div class="cell" data-execution_count="179">
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb267-1"><a href="#cb267-1" aria-hidden="true" tabindex="-1"></a>X_train <span class="op">=</span> x_train[cols_selected_boruta]</span>
<span id="cb267-2"><a href="#cb267-2" aria-hidden="true" tabindex="-1"></a>X_test <span class="op">=</span> x_test[cols_selected_boruta]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="xgboost" class="level2">
<h2 class="anchored" data-anchor-id="xgboost">XGBoost</h2>
<div class="cell" data-execution_count="180">
<div class="sourceCode cell-code" id="cb268"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a>xgb_model <span class="op">=</span> xgb.XGBClassifier(objective<span class="op">=</span><span class="st">"multi:softmax"</span>, </span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a>                              num_class<span class="op">=</span><span class="dv">3</span>,</span>
<span id="cb268-3"><a href="#cb268-3" aria-hidden="true" tabindex="-1"></a>                              n_estimators<span class="op">=</span> <span class="dv">100</span>,</span>
<span id="cb268-4"><a href="#cb268-4" aria-hidden="true" tabindex="-1"></a>                              max_depth <span class="op">=</span> <span class="dv">10</span>,</span>
<span id="cb268-5"><a href="#cb268-5" aria-hidden="true" tabindex="-1"></a>                              subsample <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span id="cb268-6"><a href="#cb268-6" aria-hidden="true" tabindex="-1"></a>                              colsample_bytree <span class="op">=</span> <span class="fl">0.9</span>)</span>
<span id="cb268-7"><a href="#cb268-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-8"><a href="#cb268-8" aria-hidden="true" tabindex="-1"></a>xgb_model.fit(X_train, y_train)</span>
<span id="cb268-9"><a href="#cb268-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-10"><a href="#cb268-10" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> xgb_model.predict(X_test)</span>
<span id="cb268-11"><a href="#cb268-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-12"><a href="#cb268-12" aria-hidden="true" tabindex="-1"></a>accuracy <span class="op">=</span> accuracy_score(y_test, y_pred)</span>
<span id="cb268-13"><a href="#cb268-13" aria-hidden="true" tabindex="-1"></a>report <span class="op">=</span> classification_report(y_test, y_pred)</span>
<span id="cb268-14"><a href="#cb268-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-15"><a href="#cb268-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Accuracy: </span><span class="sc">{</span>accuracy<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb268-16"><a href="#cb268-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Classification Report:</span><span class="ch">\n</span><span class="sc">{</span>report<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy: 0.7989
Classification Report:
              precision    recall  f1-score   support

           0       0.77      0.74      0.76      5322
           1       0.80      0.80      0.80      8805
           2       0.81      0.82      0.81     15873

    accuracy                           0.80     30000
   macro avg       0.79      0.79      0.79     30000
weighted avg       0.80      0.80      0.80     30000
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="181">
<div class="sourceCode cell-code" id="cb270"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a>cv_scores <span class="op">=</span> cross_val_score(xgb_model, X_train, y_train, cv<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb270-2"><a href="#cb270-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Cross-validation scores: </span><span class="sc">{</span>cv_scores<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb270-3"><a href="#cb270-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Mean CV score: </span><span class="sc">{</span>np<span class="sc">.</span>mean(cv_scores)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cross-validation scores: [0.80042857 0.79357143 0.78842857 0.79128571 0.794      0.79028571
 0.79714286 0.78285714 0.78728571 0.78828571]
Mean CV score: 0.7913571428571429</code></pre>
</div>
</div>
</section>
<section id="lightgbm" class="level2">
<h2 class="anchored" data-anchor-id="lightgbm">LightGBM</h2>
<div class="cell" data-execution_count="182">
<div class="sourceCode cell-code" id="cb272"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a>lgb_model <span class="op">=</span> lgb.LGBMClassifier(objective<span class="op">=</span><span class="st">'multiclass'</span>,</span>
<span id="cb272-2"><a href="#cb272-2" aria-hidden="true" tabindex="-1"></a>                               num_class<span class="op">=</span><span class="dv">3</span>, </span>
<span id="cb272-3"><a href="#cb272-3" aria-hidden="true" tabindex="-1"></a>                               n_estimators<span class="op">=</span><span class="dv">100</span>,  <span class="co"># Número de árvores (estimadores)</span></span>
<span id="cb272-4"><a href="#cb272-4" aria-hidden="true" tabindex="-1"></a>                               max_depth<span class="op">=</span><span class="dv">10</span>,       <span class="co"># Profundidade máxima das árvores</span></span>
<span id="cb272-5"><a href="#cb272-5" aria-hidden="true" tabindex="-1"></a>                               learning_rate<span class="op">=</span><span class="fl">0.1</span>,</span>
<span id="cb272-6"><a href="#cb272-6" aria-hidden="true" tabindex="-1"></a>                               num_leaves<span class="op">=</span><span class="dv">31</span>                               </span>
<span id="cb272-7"><a href="#cb272-7" aria-hidden="true" tabindex="-1"></a>                               )</span>
<span id="cb272-8"><a href="#cb272-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-9"><a href="#cb272-9" aria-hidden="true" tabindex="-1"></a>lgb_model.fit(X_train, y_train)</span>
<span id="cb272-10"><a href="#cb272-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-11"><a href="#cb272-11" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> lgb_model.predict(X_test)</span>
<span id="cb272-12"><a href="#cb272-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-13"><a href="#cb272-13" aria-hidden="true" tabindex="-1"></a>accuracy <span class="op">=</span> accuracy_score(y_test, y_pred)</span>
<span id="cb272-14"><a href="#cb272-14" aria-hidden="true" tabindex="-1"></a>report <span class="op">=</span> classification_report(y_test, y_pred)</span>
<span id="cb272-15"><a href="#cb272-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-16"><a href="#cb272-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Accuracy: </span><span class="sc">{</span>accuracy<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb272-17"><a href="#cb272-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Classification Report:</span><span class="ch">\n</span><span class="sc">{</span>report<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:98: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:133: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing row-wise multi-threading, the overhead of testing was 0.001674 seconds.
You can set `force_row_wise=true` to remove the overhead.
And if memory is not enough, you can set `force_col_wise=true`.
[LightGBM] [Info] Total Bins 2399
[LightGBM] [Info] Number of data points in the train set: 70000, number of used features: 17
[LightGBM] [Info] Start training from score -1.722287
[LightGBM] [Info] Start training from score -1.243159
[LightGBM] [Info] Start training from score -0.629475
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
Accuracy: 0.7387333333333334
Classification Report:
              precision    recall  f1-score   support

           0       0.62      0.72      0.67      5322
           1       0.76      0.70      0.73      8805
           2       0.77      0.77      0.77     15873

    accuracy                           0.74     30000
   macro avg       0.72      0.73      0.72     30000
weighted avg       0.74      0.74      0.74     30000
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="183">
<div class="sourceCode cell-code" id="cb276"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb276-1"><a href="#cb276-1" aria-hidden="true" tabindex="-1"></a>cv_scores <span class="op">=</span> cross_val_score(lgb_model, X_train, y_train, cv<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb276-2"><a href="#cb276-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Cross-validation scores: </span><span class="sc">{</span>cv_scores<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb276-3"><a href="#cb276-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Mean CV score: </span><span class="sc">{</span>np<span class="sc">.</span>mean(cv_scores)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.002168 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 2401
[LightGBM] [Info] Number of data points in the train set: 63000, number of used features: 17
[LightGBM] [Info] Start training from score -1.722233
[LightGBM] [Info] Start training from score -1.243198
[LightGBM] [Info] Start training from score -0.629472</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:98: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:133: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.002153 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 2397
[LightGBM] [Info] Number of data points in the train set: 63000, number of used features: 17
[LightGBM] [Info] Start training from score -1.722233
[LightGBM] [Info] Start training from score -1.243198
[LightGBM] [Info] Start training from score -0.629472</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:98: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:133: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.002085 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 2396
[LightGBM] [Info] Number of data points in the train set: 63000, number of used features: 17
[LightGBM] [Info] Start training from score -1.722233
[LightGBM] [Info] Start training from score -1.243198
[LightGBM] [Info] Start training from score -0.629472</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:98: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:133: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing row-wise multi-threading, the overhead of testing was 0.000645 seconds.
You can set `force_row_wise=true` to remove the overhead.
And if memory is not enough, you can set `force_col_wise=true`.
[LightGBM] [Info] Total Bins 2400
[LightGBM] [Info] Number of data points in the train set: 63000, number of used features: 17
[LightGBM] [Info] Start training from score -1.722233
[LightGBM] [Info] Start training from score -1.243143
[LightGBM] [Info] Start training from score -0.629502</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:98: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:133: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.002169 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 2401
[LightGBM] [Info] Number of data points in the train set: 63000, number of used features: 17
[LightGBM] [Info] Start training from score -1.722322
[LightGBM] [Info] Start training from score -1.243143
[LightGBM] [Info] Start training from score -0.629472</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:98: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:133: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing row-wise multi-threading, the overhead of testing was 0.000646 seconds.
You can set `force_row_wise=true` to remove the overhead.
And if memory is not enough, you can set `force_col_wise=true`.
[LightGBM] [Info] Total Bins 2400
[LightGBM] [Info] Number of data points in the train set: 63000, number of used features: 17
[LightGBM] [Info] Start training from score -1.722322
[LightGBM] [Info] Start training from score -1.243143
[LightGBM] [Info] Start training from score -0.629472</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:98: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:133: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing row-wise multi-threading, the overhead of testing was 0.000647 seconds.
You can set `force_row_wise=true` to remove the overhead.
And if memory is not enough, you can set `force_col_wise=true`.
[LightGBM] [Info] Total Bins 2401
[LightGBM] [Info] Number of data points in the train set: 63000, number of used features: 17
[LightGBM] [Info] Start training from score -1.722322
[LightGBM] [Info] Start training from score -1.243143
[LightGBM] [Info] Start training from score -0.629472</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:98: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:133: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing row-wise multi-threading, the overhead of testing was 0.000633 seconds.
You can set `force_row_wise=true` to remove the overhead.
And if memory is not enough, you can set `force_col_wise=true`.
[LightGBM] [Info] Total Bins 2401
[LightGBM] [Info] Number of data points in the train set: 63000, number of used features: 17
[LightGBM] [Info] Start training from score -1.722322
[LightGBM] [Info] Start training from score -1.243143
[LightGBM] [Info] Start training from score -0.629472</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:98: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:133: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.002380 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 2403
[LightGBM] [Info] Number of data points in the train set: 63000, number of used features: 17
[LightGBM] [Info] Start training from score -1.722322
[LightGBM] [Info] Start training from score -1.243143
[LightGBM] [Info] Start training from score -0.629472</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:98: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:133: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing row-wise multi-threading, the overhead of testing was 0.000650 seconds.
You can set `force_row_wise=true` to remove the overhead.
And if memory is not enough, you can set `force_col_wise=true`.
[LightGBM] [Info] Total Bins 2401
[LightGBM] [Info] Number of data points in the train set: 63000, number of used features: 17
[LightGBM] [Info] Start training from score -1.722322
[LightGBM] [Info] Start training from score -1.243143
[LightGBM] [Info] Start training from score -0.629472</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:98: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\preprocessing\_label.py:133: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth &gt; num_leaves. (num_leaves=31).
Cross-validation scores: [0.74171429 0.74342857 0.73942857 0.73614286 0.74414286 0.73571429
 0.74085714 0.73742857 0.73657143 0.73285714]
Mean CV score: 0.7388285714285714</code></pre>
</div>
</div>
</section>
<section id="randomforestclassifier" class="level2">
<h2 class="anchored" data-anchor-id="randomforestclassifier">RandomForestClassifier</h2>
<div class="cell" data-execution_count="184">
<div class="sourceCode cell-code" id="cb298"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a>rf_model <span class="op">=</span> RandomForestClassifier(n_estimators<span class="op">=</span><span class="dv">100</span>, </span>
<span id="cb298-2"><a href="#cb298-2" aria-hidden="true" tabindex="-1"></a>                                  max_depth<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb298-3"><a href="#cb298-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-4"><a href="#cb298-4" aria-hidden="true" tabindex="-1"></a>rf_model.fit(X_train, y_train)</span>
<span id="cb298-5"><a href="#cb298-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-6"><a href="#cb298-6" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> rf_model.predict(X_test)</span>
<span id="cb298-7"><a href="#cb298-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-8"><a href="#cb298-8" aria-hidden="true" tabindex="-1"></a>accuracy <span class="op">=</span> accuracy_score(y_test, y_pred)</span>
<span id="cb298-9"><a href="#cb298-9" aria-hidden="true" tabindex="-1"></a>report <span class="op">=</span> classification_report(y_test, y_pred)</span>
<span id="cb298-10"><a href="#cb298-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-11"><a href="#cb298-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Accuracy: </span><span class="sc">{</span>accuracy<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb298-12"><a href="#cb298-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Classification Report:</span><span class="ch">\n</span><span class="sc">{</span>report<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\everton.bandeira\AppData\Local\Temp\ipykernel_14836\1804178106.py:4: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples,), for example using ravel().
  rf_model.fit(X_train, y_train)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy: 0.7243
Classification Report:
              precision    recall  f1-score   support

           0       0.59      0.72      0.65      5322
           1       0.76      0.67      0.71      8805
           2       0.77      0.75      0.76     15873

    accuracy                           0.72     30000
   macro avg       0.70      0.72      0.71     30000
weighted avg       0.73      0.72      0.73     30000
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="185">
<div class="sourceCode cell-code" id="cb301"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb301-1"><a href="#cb301-1" aria-hidden="true" tabindex="-1"></a>cv_scores <span class="op">=</span> cross_val_score(rf_model, X_train, y_train, cv<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb301-2"><a href="#cb301-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Cross-validation scores: </span><span class="sc">{</span>cv_scores<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb301-3"><a href="#cb301-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Mean CV score: </span><span class="sc">{</span>np<span class="sc">.</span>mean(cv_scores)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\model_selection\_validation.py:680: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples,), for example using ravel().
  estimator.fit(X_train, y_train, **fit_params)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\model_selection\_validation.py:680: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples,), for example using ravel().
  estimator.fit(X_train, y_train, **fit_params)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\model_selection\_validation.py:680: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples,), for example using ravel().
  estimator.fit(X_train, y_train, **fit_params)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\model_selection\_validation.py:680: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples,), for example using ravel().
  estimator.fit(X_train, y_train, **fit_params)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\model_selection\_validation.py:680: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples,), for example using ravel().
  estimator.fit(X_train, y_train, **fit_params)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Cross-validation scores: [0.73178571 0.72757143 0.72692857 0.72642857 0.72164286]
Mean CV score: 0.7268714285714286</code></pre>
</div>
</div>
</section>
<section id="logisticregression" class="level2">
<h2 class="anchored" data-anchor-id="logisticregression">LogisticRegression</h2>
<div class="cell" data-execution_count="186">
<div class="sourceCode cell-code" id="cb304"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb304-1"><a href="#cb304-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crie uma instância do modelo de regressão logística multinomial</span></span>
<span id="cb304-2"><a href="#cb304-2" aria-hidden="true" tabindex="-1"></a>logistic_regression_model <span class="op">=</span> LogisticRegression(multi_class<span class="op">=</span><span class="st">'multinomial'</span>, solver<span class="op">=</span><span class="st">'lbfgs'</span>, max_iter<span class="op">=</span><span class="dv">1000</span>)</span>
<span id="cb304-3"><a href="#cb304-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-4"><a href="#cb304-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Treine o modelo com os dados de treinamento</span></span>
<span id="cb304-5"><a href="#cb304-5" aria-hidden="true" tabindex="-1"></a>logistic_regression_model.fit(X_train, y_train)</span>
<span id="cb304-6"><a href="#cb304-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-7"><a href="#cb304-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Faça previsões com o modelo treinado</span></span>
<span id="cb304-8"><a href="#cb304-8" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> logistic_regression_model.predict(X_test)</span>
<span id="cb304-9"><a href="#cb304-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-10"><a href="#cb304-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Avalie o desempenho do modelo</span></span>
<span id="cb304-11"><a href="#cb304-11" aria-hidden="true" tabindex="-1"></a>accuracy <span class="op">=</span> accuracy_score(y_test, y_pred)</span>
<span id="cb304-12"><a href="#cb304-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Acurácia: </span><span class="sc">{</span>accuracy<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb304-13"><a href="#cb304-13" aria-hidden="true" tabindex="-1"></a>report <span class="op">=</span> classification_report(y_test, y_pred)</span>
<span id="cb304-14"><a href="#cb304-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Relatório de Classificação:</span><span class="ch">\n</span><span class="sc">{</span>report<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\utils\validation.py:993: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Acurácia: 0.6486
Relatório de Classificação:
              precision    recall  f1-score   support

           0       0.58      0.55      0.57      5322
           1       0.66      0.53      0.59      8805
           2       0.66      0.75      0.70     15873

    accuracy                           0.65     30000
   macro avg       0.63      0.61      0.62     30000
weighted avg       0.65      0.65      0.64     30000
</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\linear_model\_logistic.py:814: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  n_iter_i = _check_optimize_result(</code></pre>
</div>
</div>
<div class="cell" data-execution_count="187">
<div class="sourceCode cell-code" id="cb308"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb308-1"><a href="#cb308-1" aria-hidden="true" tabindex="-1"></a>cv_scores <span class="op">=</span> cross_val_score(logistic_regression_model, X_train, y_train, cv<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb308-2"><a href="#cb308-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Cross-validation scores: </span><span class="sc">{</span>cv_scores<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb308-3"><a href="#cb308-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Mean CV score: </span><span class="sc">{</span>np<span class="sc">.</span>mean(cv_scores)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\utils\validation.py:993: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\linear_model\_logistic.py:814: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  n_iter_i = _check_optimize_result(
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\utils\validation.py:993: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\linear_model\_logistic.py:814: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  n_iter_i = _check_optimize_result(
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\utils\validation.py:993: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\linear_model\_logistic.py:814: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  n_iter_i = _check_optimize_result(
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\utils\validation.py:993: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\linear_model\_logistic.py:814: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  n_iter_i = _check_optimize_result(
c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\utils\validation.py:993: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Cross-validation scores: [0.65       0.64957143 0.652      0.65292857 0.653     ]
Mean CV score: 0.6515</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\everton.bandeira\Anaconda3\lib\site-packages\sklearn\linear_model\_logistic.py:814: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  n_iter_i = _check_optimize_result(</code></pre>
</div>
</div>
</section>
<section id="extra-tree-classifier" class="level2">
<h2 class="anchored" data-anchor-id="extra-tree-classifier">Extra Tree Classifier</h2>
<div class="cell" data-execution_count="188">
<div class="sourceCode cell-code" id="cb312"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb312-1"><a href="#cb312-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cria uma instância do classificador ExtraTreeClassifier</span></span>
<span id="cb312-2"><a href="#cb312-2" aria-hidden="true" tabindex="-1"></a>clf <span class="op">=</span> ExtraTreeClassifier(random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb312-3"><a href="#cb312-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Treina o modelo usando os dados de treinamento</span></span>
<span id="cb312-4"><a href="#cb312-4" aria-hidden="true" tabindex="-1"></a>clf.fit(X_train, y_train)</span>
<span id="cb312-5"><a href="#cb312-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Realiza previsões no conjunto de teste</span></span>
<span id="cb312-6"><a href="#cb312-6" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> clf.predict(X_test)</span>
<span id="cb312-7"><a href="#cb312-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-8"><a href="#cb312-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcula a acurácia do modelo</span></span>
<span id="cb312-9"><a href="#cb312-9" aria-hidden="true" tabindex="-1"></a>accuracy <span class="op">=</span> accuracy_score(y_test, y_pred)</span>
<span id="cb312-10"><a href="#cb312-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Acurácia do modelo:"</span>, accuracy)</span>
<span id="cb312-11"><a href="#cb312-11" aria-hidden="true" tabindex="-1"></a>report <span class="op">=</span> classification_report(y_test, y_pred)</span>
<span id="cb312-12"><a href="#cb312-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Relatório de Classificação:</span><span class="ch">\n</span><span class="sc">{</span>report<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Acurácia do modelo: 0.7280666666666666
Relatório de Classificação:
              precision    recall  f1-score   support

           0       0.67      0.65      0.66      5322
           1       0.72      0.71      0.72      8805
           2       0.75      0.76      0.76     15873

    accuracy                           0.73     30000
   macro avg       0.71      0.71      0.71     30000
weighted avg       0.73      0.73      0.73     30000
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="189">
<div class="sourceCode cell-code" id="cb314"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb314-1"><a href="#cb314-1" aria-hidden="true" tabindex="-1"></a>cv_scores <span class="op">=</span> cross_val_score(clf, X_train, y_train, cv<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb314-2"><a href="#cb314-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Cross-validation scores: </span><span class="sc">{</span>cv_scores<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb314-3"><a href="#cb314-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Mean CV score: </span><span class="sc">{</span>np<span class="sc">.</span>mean(cv_scores)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cross-validation scores: [0.69428571 0.71035714 0.71285714 0.70128571 0.70792857]
Mean CV score: 0.7053428571428572</code></pre>
</div>
</div>
</section>
</section>
<section id="hyperparameter-fine-tuning" class="level1">
<h1>Hyperparameter Fine Tuning</h1>
<div class="cell" data-execution_count="190">
<div class="sourceCode cell-code" id="cb316"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb316-1"><a href="#cb316-1" aria-hidden="true" tabindex="-1"></a>param <span class="op">=</span> {<span class="st">'n_estimators'</span>:[<span class="dv">700</span>,<span class="dv">1000</span>,<span class="dv">1500</span>,<span class="dv">3000</span>], </span>
<span id="cb316-2"><a href="#cb316-2" aria-hidden="true" tabindex="-1"></a>         <span class="st">'max_depth'</span>:[<span class="dv">5</span>,<span class="dv">9</span>,<span class="dv">10</span>,<span class="dv">13</span>,<span class="dv">17</span>],</span>
<span id="cb316-3"><a href="#cb316-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">'eta'</span>:[<span class="fl">0.1</span>,<span class="fl">0.3</span>,<span class="fl">0.5</span>,<span class="fl">0.7</span>],</span>
<span id="cb316-4"><a href="#cb316-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">'learning_rate'</span>:[<span class="fl">0.1</span>,<span class="fl">0.3</span>,<span class="fl">0.5</span>,<span class="fl">0.7</span>],</span>
<span id="cb316-5"><a href="#cb316-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">'subsample'</span>: [<span class="fl">0.3</span>,<span class="fl">0.5</span>,<span class="fl">0.7</span>,<span class="fl">0.9</span>],</span>
<span id="cb316-6"><a href="#cb316-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">'colsample_bytree'</span>: [<span class="fl">0.3</span>,<span class="fl">0.5</span>,<span class="fl">0.7</span>,<span class="fl">0.9</span>]}</span>
<span id="cb316-7"><a href="#cb316-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb316-8"><a href="#cb316-8" aria-hidden="true" tabindex="-1"></a>gs2 <span class="op">=</span> GridSearchCV(xgb.XGBClassifier(n_jobs<span class="op">=-</span><span class="dv">1</span>,num_class<span class="op">=</span><span class="dv">3</span>,objective<span class="op">=</span><span class="st">'multi.softmax'</span>), param, n_jobs<span class="op">=-</span><span class="dv">1</span>, cv<span class="op">=</span>KFold(n_splits<span class="op">=</span><span class="dv">3</span>), scoring<span class="op">=</span><span class="st">'accuracy'</span>)</span>
<span id="cb316-9"><a href="#cb316-9" aria-hidden="true" tabindex="-1"></a>gs2.fit(X_train, y_train)</span>
<span id="cb316-10"><a href="#cb316-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb316-11"><a href="#cb316-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Best score:'</span>, gs2.best_score_)</span>
<span id="cb316-12"><a href="#cb316-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Best score:'</span>, gs2.best_params_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best score: 0.7886714021590188
Best score: {'colsample_bytree': 0.3, 'max_depth': 10, 'n_estimators': 700, 'subsample': 0.9}</code></pre>
</div>
</div>
<p>Best score: 0.7886714021590188 Best score: {‘colsample_bytree’: 0.3, ‘max_depth’: 10, ‘n_estimators’: 700, ‘subsample’: 0.9}</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>